<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>C-Path R Training</title>
    <meta charset="utf-8" />
    <meta name="author" content="Kelsey Gonzalez" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/panelset/panelset.css" rel="stylesheet" />
    <script src="libs/panelset/panelset.js"></script>
    <link href="libs/tile-view/tile-view.css" rel="stylesheet" />
    <script src="libs/tile-view/tile-view.js"></script>
    <script src="libs/clipboard/clipboard.min.js"></script>
    <link href="libs/xaringanExtra-clipboard/xaringanExtra-clipboard.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-clipboard/xaringanExtra-clipboard.js"></script>
    <script>window.xaringanExtraClipboard(null, {"button":"Copy Code","success":"Copied!","error":"Press Ctrl+C to Copy"})</script>
    <link href="libs/shareon/shareon.min.css" rel="stylesheet" />
    <script src="libs/shareon/shareon.min.js"></script>
    <link href="libs/xaringanExtra-shareagain/shareagain.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-shareagain/shareagain.js"></script>
    <link href="libs/countdown/countdown.css" rel="stylesheet" />
    <script src="libs/countdown/countdown.js"></script>
    <script src="libs/kePrint/kePrint.js"></script>
    <link href="libs/lightable/lightable.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/mytheme.css" type="text/css" />
    <link rel="stylesheet" href="css/mytheme-fonts.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">




class: title-slide, center, center

# C-Path R Training
### Advanced Data Wrangling Part I

**Kelsey Gonzalez**&lt;br&gt;
May 26, 2021 &amp;#8212; Day 1

---
name: about-me
layout: false
class: about-me-slide, inverse, middle, center

# About me

&lt;img src="https://kelseygonzalez.github.io/author/kelsey-e.-gonzalez/avatar.png" class="rounded"/&gt;

## Kelsey Gonzalez

.fade[University of Arizona&lt;br&gt;IBM]

[&lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"&gt;&lt;/path&gt;&lt;/svg&gt; kelseygonzalez.github.io](https://kelseygonzalez.github.io/)
[&lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"&gt;&lt;/path&gt;&lt;/svg&gt; @KelseyEGonzalez](https://twitter.com/kelseyegonzalez)
[&lt;svg viewBox="0 0 496 512" style="position:relative;display:inline-block;top:.1em;height:1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"&gt;&lt;/path&gt;&lt;/svg&gt; @KelseyGonzalez](https://github.com/KelseyGonzalez)

---
layout: true

&lt;!-- &lt;a class="footer-link" href="http://bit.ly/cpath-wrangling"&gt;http://bit.ly/cpath-wrangling &amp;mdash; Kelsey Gonzalez&lt;/a&gt; --&gt;

&lt;!-- this adds the link footer to all slides, depends on footer-link class in css--&gt;

---
class: left

# About you

--

.pull-left-narrow[
.center[&lt;svg viewBox="0 0 581 512" style="position:relative;display:inline-block;top:.1em;height:2em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"&gt;&lt;/path&gt;&lt;/svg&gt;]]
.pull-right-wide[### you know R]

--

.pull-left-narrow[.center[
&lt;img src="https://raw.githubusercontent.com/rstudio/hex-stickers/master/PNG/tidyverse.png" width="25%"/&gt;]]
.pull-right-wide[### you know some basic tidyverse]

--

.pull-left-narrow[
.center[&lt;svg viewBox="0 0 512 512" style="position:relative;display:inline-block;top:.1em;height:2em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M223.75 130.75L154.62 15.54A31.997 31.997 0 0 0 127.18 0H16.03C3.08 0-4.5 14.57 2.92 25.18l111.27 158.96c29.72-27.77 67.52-46.83 109.56-53.39zM495.97 0H384.82c-11.24 0-21.66 5.9-27.44 15.54l-69.13 115.21c42.04 6.56 79.84 25.62 109.56 53.38L509.08 25.18C516.5 14.57 508.92 0 495.97 0zM256 160c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm92.52 157.26l-37.93 36.96 8.97 52.22c1.6 9.36-8.26 16.51-16.65 12.09L256 393.88l-46.9 24.65c-8.4 4.45-18.25-2.74-16.65-12.09l8.97-52.22-37.93-36.96c-6.82-6.64-3.05-18.23 6.35-19.59l52.43-7.64 23.43-47.52c2.11-4.28 6.19-6.39 10.28-6.39 4.11 0 8.22 2.14 10.33 6.39l23.43 47.52 52.43 7.64c9.4 1.36 13.17 12.95 6.35 19.59z"&gt;&lt;/path&gt;&lt;/svg&gt;]]
.pull-right-wide[### .my-gold[**you want to master data wrangling**]] 


---
# Learning Objectives

- Describe data frames in R and tidyverse tibbles
- Use basic functions of dplyr to manipulate single data frames/tibbles by rows, by columns (variables), and by groups
  + Choose columns (variables) by names `select()`
  + Choose rows by column (variable) values `filter()`
  + Arrange (sort) rows by column (variable) values: `arrange()`
  + Rename columns (variables): `rename()`
  + Add/modify new/existing columns (variables): `mutate()` 
  + Group rows by columns (variables): `group_by()`
  + Calculate summary statistics of Columns with or without grouping. `summarize()`, `group_by()`
- Describe tidy data
- Make your data tidy with `pivot_longer()`, `pivot_wider()`, `separate()`, and `unite()`.

---
# Why become a data wrangling master?

Real world data is always messy to start
+ Variables may be missing
+ Values may be missing 
+ There can be duplicate rows
+ Variables may have different names in different tables for the same attribute
+ Numbers can be stored as characters
+ The data may be structured for ease of human input rather than analysis
+ Unsorted or sorted in a different order than we want  

---

# Our Data
----
We will use the US National Health and Nutrition Examination Study for this workshop


```r
NHANES::NHANESraw %&gt;% head()
## # A tibble: 6 x 78
##      ID SurveyYr Gender   Age AgeMonths Race1   Race3 Education     MaritalStatus HHIncome   HHIncomeMid Poverty
##   &lt;int&gt; &lt;fct&gt;    &lt;fct&gt;  &lt;int&gt;     &lt;int&gt; &lt;fct&gt;   &lt;fct&gt; &lt;fct&gt;         &lt;fct&gt;         &lt;fct&gt;            &lt;int&gt;   &lt;dbl&gt;
## 1 51624 2009_10  male      34       409 White   &lt;NA&gt;  High School   Married       25000-349~       30000    1.36
## 2 51625 2009_10  male       4        49 Other   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          20000-249~       22500    1.07
## 3 51626 2009_10  male      16       202 Black   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          45000-549~       50000    2.27
## 4 51627 2009_10  male      10       131 Black   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          20000-249~       22500    0.81
## 5 51628 2009_10  female    60       722 Black   &lt;NA&gt;  High School   Widowed       10000-149~       12500    0.69
## 6 51629 2009_10  male      26       313 Mexican &lt;NA&gt;  9 - 11th Gra~ Married       25000-349~       30000    1.01
## # ... with 66 more variables: HomeRooms &lt;int&gt;, HomeOwn &lt;fct&gt;, Work &lt;fct&gt;, Weight &lt;dbl&gt;, Length &lt;dbl&gt;,
## #   HeadCirc &lt;dbl&gt;, Height &lt;dbl&gt;, BMI &lt;dbl&gt;, BMICatUnder20yrs &lt;fct&gt;, BMI_WHO &lt;fct&gt;, Pulse &lt;int&gt;,
## #   BPSysAve &lt;int&gt;, BPDiaAve &lt;int&gt;, BPSys1 &lt;int&gt;, BPDia1 &lt;int&gt;, BPSys2 &lt;int&gt;, BPDia2 &lt;int&gt;, BPSys3 &lt;int&gt;,
## #   BPDia3 &lt;int&gt;, Testosterone &lt;dbl&gt;, DirectChol &lt;dbl&gt;, TotChol &lt;dbl&gt;, UrineVol1 &lt;int&gt;, UrineFlow1 &lt;dbl&gt;,
## #   UrineVol2 &lt;int&gt;, UrineFlow2 &lt;dbl&gt;, Diabetes &lt;fct&gt;, DiabetesAge &lt;int&gt;, HealthGen &lt;fct&gt;,
## #   DaysPhysHlthBad &lt;int&gt;, DaysMentHlthBad &lt;int&gt;, LittleInterest &lt;fct&gt;, Depressed &lt;fct&gt;, nPregnancies &lt;int&gt;,
## #   nBabies &lt;int&gt;, Age1stBaby &lt;int&gt;, SleepHrsNight &lt;int&gt;, SleepTrouble &lt;fct&gt;, PhysActive &lt;fct&gt;,
## #   PhysActiveDays &lt;int&gt;, TVHrsDay &lt;fct&gt;, CompHrsDay &lt;fct&gt;, TVHrsDayChild &lt;int&gt;, CompHrsDayChild &lt;int&gt;,
## #   Alcohol12PlusYr &lt;fct&gt;, AlcoholDay &lt;int&gt;, AlcoholYear &lt;int&gt;, SmokeNow &lt;fct&gt;, Smoke100 &lt;fct&gt;, SmokeAge &lt;int&gt;,
## #   Marijuana &lt;fct&gt;, AgeFirstMarij &lt;int&gt;, RegularMarij &lt;fct&gt;, AgeRegMarij &lt;int&gt;, HardDrugs &lt;fct&gt;,
## #   SexEver &lt;fct&gt;, SexAge &lt;int&gt;, SexNumPartnLife &lt;int&gt;, SexNumPartYear &lt;int&gt;, SameSex &lt;fct&gt;,
## #   SexOrientation &lt;fct&gt;, WTINT2YR &lt;dbl&gt;, WTMEC2YR &lt;dbl&gt;, SDMVPSU &lt;int&gt;, SDMVSTRA &lt;int&gt;, PregnantNow &lt;fct&gt;
```

---
# Our Data
----
This dataset has 78 columns, but here are some that we will be using:

- `Weight` - Weight in kg
- `Pulse` - 60 second pulse rate
- `BPDiaAve` -  Combined diastolic blood pressure reading, following the procedure outlined for BPXDAR
- `DirectChol` - Direct HDL cholesterol in mmol/L. Reported for participants aged 6 years or older.
- `Diabetes` - Study participant told by a doctor or health professional that they have diabetes. Reported for participants aged 1 year or older as Yes or No.
- `HealthGen` - Self-reported rating of participant's health in general Reported for participants aged 12 years or older. One of _Excellent_, _Vgood_, _Good_, _Fair_, or _Poor_.
- `SleepHrsNight` - Self-reported number of hours study participant usually gets at night on weekdays or workdays. Reported for participants aged 16 years and older.

---
# Our Data, continued
----

- `PhysActiveDays` - Number of days in a typical week that participant does moderate or vigorous-intensity activity. Reported for participants 12 years or older.
- `AlcoholDay` - Average number of drinks consumed on days that participant drank alcoholic beverages. Reported for participants aged 18 years or older.
- `Smoke100` - Study participant has smoked at least 100 cigarettes in their entire life. Reported for participants aged 20 years or older as _Yes_ or _No_.
- `Marijuana` Participant has tried marijuana. Reported for participants aged 18 to 59 years as  _Yes_ or _No_.

To see more descriptions, type `?NHANES` in the console
---

# Glimpse  &lt;img src="img/dplyr.png" class="title-hex"&gt;
`Glimpse` gives us a quick outline of what variables are in our data. 

```
## Rows: 20,293
## Columns: 78
## $ ID               &lt;int&gt; 51624, 51625, 51626, 51627, 51628, 51629, 51630, 51631, 51632, 51633, 51634, 51635, 5~
## $ SurveyYr         &lt;fct&gt; 2009_10, 2009_10, 2009_10, 2009_10, 2009_10, 2009_10, 2009_10, 2009_10, 2009_10, 2009~
## $ Gender           &lt;fct&gt; male, male, male, male, female, male, female, female, male, male, male, male, male, f~
## $ Age              &lt;int&gt; 34, 4, 16, 10, 60, 26, 49, 1, 10, 80, 10, 80, 4, 35, 9, 4, 17, 13, 7, 42, 0, 66, 8, 4~
## $ AgeMonths        &lt;int&gt; 409, 49, 202, 131, 722, 313, 596, 12, 124, NA, 121, NA, 48, 431, 115, 58, 208, 156, 8~
## $ Race1            &lt;fct&gt; White, Other, Black, Black, Black, Mexican, White, White, Hispanic, White, Mexican, W~
## $ Race3            &lt;fct&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N~
## $ Education        &lt;fct&gt; High School, NA, NA, NA, High School, 9 - 11th Grade, Some College, NA, NA, Some Coll~
## $ MaritalStatus    &lt;fct&gt; Married, NA, NA, NA, Widowed, Married, LivePartner, NA, NA, Married, NA, Widowed, NA,~
## $ HHIncome         &lt;fct&gt; 25000-34999, 20000-24999, 45000-54999, 20000-24999, 10000-14999, 25000-34999, 35000-4~
## $ HHIncomeMid      &lt;int&gt; 30000, 22500, 50000, 22500, 12500, 30000, 40000, 40000, 70000, 17500, 22500, 17500, 3~
## $ Poverty          &lt;dbl&gt; 1.36, 1.07, 2.27, 0.81, 0.69, 1.01, 1.91, 1.36, 2.68, 1.27, 0.93, 1.69, 1.36, NA, 1.8~
## $ HomeRooms        &lt;int&gt; 6, 9, 5, 6, 6, 4, 5, 5, 7, 4, 5, 5, 7, NA, 6, 6, 5, 6, 4, 6, 9, 5, 7, 6, 4, 7, 5, 7, ~
## $ HomeOwn          &lt;fct&gt; Own, Own, Own, Rent, Rent, Rent, Rent, Rent, Own, Own, Own, Own, Own, NA, Rent, Rent,~
## $ Work             &lt;fct&gt; NotWorking, NA, NotWorking, NA, NotWorking, Working, NotWorking, NA, NA, NotWorking, ~
## $ Weight           &lt;dbl&gt; 87.4, 17.0, 72.3, 39.8, 116.8, 97.6, 86.7, 9.4, 26.0, 79.1, 44.7, 89.6, NA, NA, 29.8,~
## $ Length           &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, 75.7, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 72.~
## $ HeadCirc         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N~
## $ Height           &lt;dbl&gt; 164.7, 105.4, 181.3, 147.8, 166.0, 173.0, 168.4, NA, 140.3, 174.3, 143.6, 180.1, NA, ~
## $ BMI              &lt;dbl&gt; 32.22, 15.30, 22.00, 18.22, 42.39, 32.61, 30.57, NA, 13.21, 26.04, 21.68, 27.62, NA, ~
## $ BMICatUnder20yrs &lt;fct&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N~
## $ BMI_WHO          &lt;fct&gt; 30.0_plus, 12.0_18.5, 18.5_to_24.9, 12.0_18.5, 30.0_plus, 30.0_plus, 30.0_plus, NA, 1~
## $ Pulse            &lt;int&gt; 70, NA, 68, 68, 72, 72, 86, NA, 70, 88, 84, 54, NA, NA, 82, NA, 68, 102, NA, 86, NA, ~
## $ BPSysAve         &lt;int&gt; 113, NA, 109, 93, 150, 104, 112, NA, 108, 139, 94, 121, NA, NA, 86, NA, 114, 112, NA,~
## $ BPDiaAve         &lt;int&gt; 85, NA, 59, 41, 68, 49, 75, NA, 53, 43, 45, 60, NA, NA, 47, NA, 78, 37, NA, 100, NA, ~
## $ BPSys1           &lt;int&gt; 114, NA, 112, 92, 154, 102, 118, NA, 106, 142, 94, 126, NA, NA, 84, NA, 122, 106, NA,~
## $ BPDia1           &lt;int&gt; 88, NA, 62, 36, 70, 50, 82, NA, 60, 62, 38, 62, NA, NA, 50, NA, 76, 12, NA, NA, NA, 6~
## $ BPSys2           &lt;int&gt; 114, NA, 114, 94, 150, 104, 108, NA, 106, 140, 92, 124, NA, NA, 84, NA, 112, 110, NA,~
## $ BPDia2           &lt;int&gt; 88, NA, 60, 44, 68, 48, 74, NA, 50, 46, 40, 62, NA, NA, 50, NA, 82, 38, NA, 100, NA, ~
## $ BPSys3           &lt;int&gt; 112, NA, 104, 92, 150, 104, 116, NA, 110, 138, 96, 118, NA, NA, 88, NA, 116, 114, NA,~
## $ BPDia3           &lt;int&gt; 82, NA, 58, 38, 68, 50, 76, NA, 56, 40, 50, 58, NA, NA, 44, NA, 74, 36, NA, NA, NA, 6~
## $ Testosterone     &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N~
## $ DirectChol       &lt;dbl&gt; 1.29, NA, 1.55, 1.89, 1.16, 1.16, 1.16, NA, 1.58, 1.94, 1.60, 1.27, NA, NA, 1.34, NA,~
## $ TotChol          &lt;dbl&gt; 3.49, NA, 4.97, 4.16, 5.22, 4.14, 6.70, NA, 4.14, 4.71, 2.87, 3.83, NA, NA, 4.86, NA,~
## $ UrineVol1        &lt;int&gt; 352, NA, 281, 139, 30, 202, 77, NA, 39, 128, 109, 38, NA, NA, 123, NA, 315, 290, 60, ~
## $ UrineFlow1       &lt;dbl&gt; NA, NA, 0.415, 1.078, 0.476, 0.563, 0.094, NA, 0.300, 1.208, 0.956, 0.197, NA, NA, 1.~
## $ UrineVol2        &lt;int&gt; NA, NA, NA, NA, 246, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ~
## $ UrineFlow2       &lt;dbl&gt; NA, NA, NA, NA, 2.51, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,~
## $ Diabetes         &lt;fct&gt; No, No, No, No, Yes, No, No, No, No, No, No, Yes, No, No, No, No, No, No, No, Yes, NA~
## $ DiabetesAge      &lt;int&gt; NA, NA, NA, NA, 56, NA, NA, NA, NA, NA, NA, 70, NA, NA, NA, NA, NA, NA, NA, 34, NA, N~
## $ HealthGen        &lt;fct&gt; Good, NA, Vgood, NA, Fair, Good, Good, NA, NA, Excellent, NA, Good, NA, NA, NA, NA, G~
## $ DaysPhysHlthBad  &lt;int&gt; 0, NA, 2, NA, 20, 2, 0, NA, NA, 0, NA, 0, NA, NA, NA, NA, 0, 0, NA, 0, NA, 0, NA, 0, ~
## $ DaysMentHlthBad  &lt;int&gt; 15, NA, 0, NA, 25, 14, 10, NA, NA, 0, NA, 0, NA, NA, NA, NA, 18, 2, NA, 30, NA, 0, NA~
## $ LittleInterest   &lt;fct&gt; Most, NA, NA, NA, Most, None, Several, NA, NA, None, NA, None, NA, NA, NA, NA, NA, NA~
## $ Depressed        &lt;fct&gt; Several, NA, NA, NA, Most, Most, Several, NA, NA, None, NA, None, NA, NA, NA, NA, NA,~
## $ nPregnancies     &lt;int&gt; NA, NA, NA, NA, 1, NA, 2, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, NA, ~
## $ nBabies          &lt;int&gt; NA, NA, NA, NA, 1, NA, 2, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, NA, ~
## $ Age1stBaby       &lt;int&gt; NA, NA, NA, NA, NA, NA, 27, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 18, NA, N~
## $ SleepHrsNight    &lt;int&gt; 4, NA, 8, NA, 4, 4, 8, NA, NA, 6, NA, 9, NA, 7, NA, NA, 7, NA, NA, 10, NA, 7, NA, 8, ~
## $ SleepTrouble     &lt;fct&gt; Yes, NA, No, NA, No, No, Yes, NA, NA, No, NA, No, NA, No, NA, NA, No, NA, NA, Yes, NA~
## $ PhysActive       &lt;fct&gt; No, NA, Yes, NA, No, Yes, No, NA, NA, Yes, NA, No, NA, No, NA, NA, Yes, Yes, NA, No, ~
## $ PhysActiveDays   &lt;int&gt; NA, NA, 5, NA, NA, 2, NA, NA, NA, 4, NA, NA, NA, NA, NA, NA, 6, 2, NA, NA, NA, NA, NA~
## $ TVHrsDay         &lt;fct&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N~
## $ CompHrsDay       &lt;fct&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N~
## $ TVHrsDayChild    &lt;int&gt; NA, 4, NA, 1, NA, NA, NA, NA, 1, NA, 3, NA, 2, NA, 5, 2, NA, NA, 2, NA, NA, NA, 1, NA~
## $ CompHrsDayChild  &lt;int&gt; NA, 1, NA, 1, NA, NA, NA, NA, 0, NA, 0, NA, 1, NA, 0, 0, NA, NA, 6, NA, NA, NA, 6, NA~
## $ Alcohol12PlusYr  &lt;fct&gt; Yes, NA, NA, NA, No, Yes, Yes, NA, NA, Yes, NA, No, NA, NA, NA, NA, NA, NA, NA, No, N~
## $ AlcoholDay       &lt;int&gt; NA, NA, NA, NA, NA, 19, 2, NA, NA, 1, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 8, ~
## $ AlcoholYear      &lt;int&gt; 0, NA, NA, NA, 0, 48, 20, NA, NA, 52, NA, 0, NA, NA, NA, NA, NA, NA, NA, 0, NA, 104, ~
## $ SmokeNow         &lt;fct&gt; No, NA, NA, NA, Yes, No, Yes, NA, NA, No, NA, No, NA, NA, NA, NA, NA, NA, NA, NA, NA,~
## $ Smoke100         &lt;fct&gt; Yes, NA, NA, NA, Yes, Yes, Yes, NA, NA, Yes, NA, Yes, NA, No, NA, NA, NA, NA, NA, No,~
## $ SmokeAge         &lt;int&gt; 18, NA, NA, NA, 16, 15, 38, NA, NA, 16, NA, 21, NA, NA, NA, NA, NA, NA, NA, NA, NA, N~
## $ Marijuana        &lt;fct&gt; Yes, NA, NA, NA, NA, Yes, Yes, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, No, NA~
## $ AgeFirstMarij    &lt;int&gt; 17, NA, NA, NA, NA, 10, 18, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N~
## $ RegularMarij     &lt;fct&gt; No, NA, NA, NA, NA, Yes, No, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ~
## $ AgeRegMarij      &lt;int&gt; NA, NA, NA, NA, NA, 12, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N~
## $ HardDrugs        &lt;fct&gt; Yes, NA, NA, NA, No, Yes, Yes, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, No, NA~
## $ SexEver          &lt;fct&gt; Yes, NA, NA, NA, Yes, Yes, Yes, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Yes, ~
## $ SexAge           &lt;int&gt; 16, NA, NA, NA, 15, 9, 12, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 18, NA, 15~
## $ SexNumPartnLife  &lt;int&gt; 8, NA, NA, NA, 4, 10, 10, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 100, NA, 15~
## $ SexNumPartYear   &lt;int&gt; 1, NA, NA, NA, NA, 1, 1, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, NA, N~
## $ SameSex          &lt;fct&gt; No, NA, NA, NA, No, No, Yes, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, No, NA, ~
## $ SexOrientation   &lt;fct&gt; Heterosexual, NA, NA, NA, NA, Heterosexual, Heterosexual, NA, NA, NA, NA, NA, NA, NA,~
## $ WTINT2YR         &lt;dbl&gt; 80100.544, 53901.104, 13953.078, 11664.899, 20090.339, 22537.827, 74212.270, 23306.39~
## $ WTMEC2YR         &lt;dbl&gt; 81528.772, 56995.035, 14509.279, 12041.635, 21000.339, 22633.582, 74112.487, 24776.49~
## $ SDMVPSU          &lt;int&gt; 1, 2, 1, 2, 2, 1, 2, 2, 2, 1, 1, 1, 2, 2, 1, 1, 1, 1, 2, 2, 2, 1, 1, 2, 1, 2, 1, 2, 1~
## $ SDMVSTRA         &lt;int&gt; 83, 79, 84, 86, 75, 88, 85, 86, 88, 77, 86, 79, 84, 77, 88, 89, 81, 79, 88, 75, 80, 7~
## $ PregnantNow      &lt;fct&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Unknown, NA, NA, NA, NA, NA, No, ~
```

---

name: live-coding
background-color: var(--my-yellow)
class: middle, center

&lt;svg viewBox="0 0 640 512" style="position:relative;display:inline-block;top:.1em;height:3em;color:#122140;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;br&gt;
# Let's try it live together


---

name: question
class: inverse, middle, center

{{content}}

---
template: question

&lt;img src="img/tidyverse.png" width="25%"/&gt;
# How do we wrangle our data?

---

# dplyr &lt;img src="img/dplyr.png" class="title-hex"&gt;

The tidyverse `dplyr` package provides tools to *speed up the manipulation of data*
  + Uses data frames to create consistent structure
  + Uses the forward pipe operator, `%&gt;%`, to facilitate transparency/readability
  + Enables faster Exploratory Data Analysis (EDA) with `ggplot2`

---
# Select &lt;img src="img/dplyr.png" class="title-hex"&gt;
----
Choose which **columns** to keep or remove
.pull-left[
To select columns of a data frame, use `select()`. The `select()` function
extracts (subsets) variables (columns) and place them into a new smaller
(temporary) data frame. The first argument to this function is the data frame
(`penguins`), and the subsequent arguments are the columns to keep.
]
.pull-right[

```r
select(DATASET, 
     columns to keep) 

select(DATASET, 
      -c(columns to remove)) 
```
]


---
# Select &lt;img src="img/dplyr.png" class="title-hex"&gt;
----

.pull-left[

```r
select(NHANES::NHANESraw, 
       ID, Gender, Age, Race1) 
```
]
&lt;!-- ref.label="select-example-1", --&gt;
.pull-right[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:right;"&gt; ID &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Gender &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Age &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Race1 &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 51624 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; male &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 34 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; White &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 51625 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; male &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Other &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 51626 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; male &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Black &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 51627 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; male &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Black &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 51628 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; female &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 60 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Black &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 51629 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; male &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 26 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Mexican &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]



---
# Select Helpers &lt;img src="img/dplyr.png" class="title-hex"&gt;
----
- There are several "helper functions" you can use as arguments inside `select()`
  + These helper functions are actually part of the tidyselect package that is always installed and loaded with dplyr
  + See help for "language" from tidyselect or help on "starts_with" from tidyselect
- These helper functions reduce the need to specify each and every variable you want or don't want. 
  + Some data frames may have 1000s of variables in them
- Variables names in a data frame are always character strings so the helper functions compare the variable names to the character patterns you provide.

---


# Select Helpers &lt;img src="img/dplyr.png" class="title-hex"&gt;
----

.panelset[
.panel[.panel-name[starts_with]
.pull-left[
 - `starts_with("abc")`: matches names that begin with `"abc"`.

```r
select(NHANES::NHANESraw,
       starts_with("BMI")) 
```
]&lt;!-- end pull-left --&gt;

.pull-right[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:right;"&gt; BMI &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; BMICatUnder20yrs &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; BMI_WHO &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 32.22 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 30.0_plus &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 15.30 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 12.0_18.5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 22.00 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 18.5_to_24.9 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 18.22 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 12.0_18.5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 42.39 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 30.0_plus &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 32.61 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 30.0_plus &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
] &lt;!-- end pull-right --&gt;
] &lt;!-- end panel --&gt;
.panel[.panel-name[ends_with]
.pull-left[
- `ends_with("xyz")`: matches names that end with `"xyz"`.


```r
select(NHANES::NHANESraw,
    ends_with("Ave"))
```
]&lt;!-- end pull-left --&gt;
.pull-right[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:right;"&gt; BPSysAve &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; BPDiaAve &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 113 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 85 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 109 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 59 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 93 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 41 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 150 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 68 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 104 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 49 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
] &lt;!-- end pull-right --&gt;
] &lt;!-- end panel --&gt;
.panel[.panel-name[contains]
.pull-left[
- `contains("ijk")`: matches names that contain `"ijk"`.


```r
select(NHANES::NHANESraw,
      contains("Active"), ID)
```
]&lt;!-- end pull-left --&gt;

.pull-right[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; PhysActive &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; PhysActiveDays &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; ID &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 51624 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 51625 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 51626 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 51627 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 51628 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 51629 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
] &lt;!-- end pull-right --&gt;
] &lt;!-- end panel --&gt;

.panel[.panel-name[more]

- `matches("(.)\\1")`: selects variables that match a *regular expression* (REGEX).
    + This one matches any variables with two repeated characters, e.g., "YY".
    + You'll learn more about regular expressions in the class on strings and stringr.

- `num_range("x", 1:3)`: matches `x1`, `x2`, and `x3` for whatever numerical sequence you provide
    + This can be useful for data sets with variables such as month1, month2, month3 ..., or FY18, FY19, FY20, ....
] &lt;!-- end panel --&gt;

] &lt;!-- end panelset --&gt;


---

template: live-coding

---

name: your-turn
background-color: var(--my-red)
class: inverse

.left-column[
## Your turn&lt;br&gt;&lt;svg viewBox="0 0 576 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;br&gt;


]

.right-column[
### Select some variables you would potentially like to work with
----

Think about which variables you may want to work with, &lt;br&gt;using `?NHANES` to help guide you. 

Here are some options to consider
- Can you select which variables you'd like?
- Can you deselect the variables you don't like? 
- Can you use a tidy selection helpers?
- Can you combine two of the above techniques together? 
]
<div class="countdown blink-colon noupdate-15" id="timer_60ad9474" style="bottom:0;left:0;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">03</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
---
# Filter &lt;img src="img/dplyr.png" class="title-hex"&gt;
----


Choose **Rows** Based on Values of Certain Variables

.pull-left[
- The dplyr `filter()` function allows us to choose (subset/extract) only certain rows (observations) based on the values of the variables in those rows.
  
- We create conditions and `filter()` selects the rows satisfying these conditions (return `TRUE`).
- We can use logical comparisons, and use AND (`&amp;`) or OR (`|`) as well 
]
.pull-right[

```r
filter(DATASET, 
       column == "condition")
```
]

---

# Filter &lt;img src="img/dplyr.png" class="title-hex"&gt;
----
The filter function works with most boolean operators, namely:

&lt;table class="table table-striped table-hover table-condensed" style="margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Operator &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Description &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; &amp;lt; &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; less than &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; &amp;lt;= &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; less than or equal to &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; &amp;gt; &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; greater than &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; &amp;gt;= &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; greater than or equal to &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; == &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; exactly equal to &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; != &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; not equal to &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; !x &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Not x &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; x | y &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; x OR y &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; x &amp;amp; y &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; x AND y &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---

template: live-coding

---
name: your-turn
background-color: var(--my-red)
class: inverse
.left-column[
## Your turn&lt;br&gt;&lt;svg viewBox="0 0 576 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;br&gt;
]
.right-column[
### Let's filter our dataset based on some conditions
----

Here are some options to attempt: Can you only show the rows...
- Where `Weight` is greater than 65? 
- Where the individual does not have `Diabetes`? 
- Where `SmokeNow` is missing? not missing? 
- Can you combine the above filters together? 
]
<div class="countdown blink-colon noupdate-15" id="timer_60ad93cc" style="bottom:0;left:0;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">03</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>


---



# The Pipe &lt;img src="img/pipe.png" class="title-hex"&gt;

----

What if you want to select and filter at the same time? There are three ways to do this: use intermediate steps, nested functions, or pipes.

With intermediate steps, you create a temporary data frame and use that as input to the next function, like this:


```r
nhanes_steps &lt;- filter(NHANES::NHANESraw, Weight &gt; 65)
nhanes_steps &lt;- select(nhanes_steps, Weight, Diabetes, SmokeNow)
```

This is readable, but can clutter up your workspace with lots of objects that you have to name individually. With multiple steps, that can be hard to keep track of.

---

# The Pipe &lt;img src="img/pipe.png" class="title-hex"&gt;

----

You can also nest functions (i.e. one function inside of another), like this:


```r
nhanes_nested &lt;- 
  select(filter(NHANES::NHANESraw,Weight &gt; 65), 
         Weight, Diabetes, SmokeNow)
```

This is handy, but can be difficult to read if too many functions are nested, as R evaluates the expression from the inside out (in this case, filtering, then selecting).

---
# The Pipe &lt;img src="img/pipe.png" class="title-hex"&gt;

----

The last option, *pipes*, are a powerful addition to R. Pipes let you take the output of one function and send it directly to the next, which is useful when you need to do many things to the same dataset. Pipes in R look like `%&gt;%` and are made available via the **`magrittr`** package, installed automatically with **`dplyr`**. 

If you use RStudio, you can type the pipe with &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;M&lt;/kbd&gt; if you have a PC or &lt;kbd&gt;Cmd&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;M&lt;/kbd&gt; if you have a Mac.


???
In the above code, we use the pipe to send the `penguins` dataset first through `filter()` to keep rows where `island` is "Biscoe", then through `select()` to keep only the `species`, `body_mass_g`,and `sex` columns. Since `%&gt;%` takes the object on its left and passes it as the first argument to the function on its right, we don't need to explicitly include the data frame as an argument to the `filter()` and `select()` functions any more.

Some may find it helpful to read the pipe like the word "then". For instance, in the above example, we take the data frame `penguins`, *then* we `filter` for rows with `island == "Biscoe"`, *then* we `select` columns `species`, `body_mass_g`,and `sex`. The **`dplyr`** functions by themselves are somewhat simple, but by combining them into linear workflows with the pipe, we can accomplish more complex manipulations of data frames.

Let's see what this looks like.. 
---


count: false
 

.panel1-pipe-example-user[

```r
*NHANES::NHANESraw
```
]
 
.panel2-pipe-example-user[

```
## # A tibble: 20,293 x 78
##       ID SurveyYr Gender   Age AgeMonths Race1   Race3 Education     MaritalStatus HHIncome  HHIncomeMid Poverty
##    &lt;int&gt; &lt;fct&gt;    &lt;fct&gt;  &lt;int&gt;     &lt;int&gt; &lt;fct&gt;   &lt;fct&gt; &lt;fct&gt;         &lt;fct&gt;         &lt;fct&gt;           &lt;int&gt;   &lt;dbl&gt;
##  1 51624 2009_10  male      34       409 White   &lt;NA&gt;  High School   Married       25000-34~       30000    1.36
##  2 51625 2009_10  male       4        49 Other   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          20000-24~       22500    1.07
##  3 51626 2009_10  male      16       202 Black   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          45000-54~       50000    2.27
##  4 51627 2009_10  male      10       131 Black   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          20000-24~       22500    0.81
##  5 51628 2009_10  female    60       722 Black   &lt;NA&gt;  High School   Widowed       10000-14~       12500    0.69
##  6 51629 2009_10  male      26       313 Mexican &lt;NA&gt;  9 - 11th Gra~ Married       25000-34~       30000    1.01
##  7 51630 2009_10  female    49       596 White   &lt;NA&gt;  Some College  LivePartner   35000-44~       40000    1.91
##  8 51631 2009_10  female     1        12 White   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          35000-44~       40000    1.36
##  9 51632 2009_10  male      10       124 Hispan~ &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          65000-74~       70000    2.68
## 10 51633 2009_10  male      80        NA White   &lt;NA&gt;  Some College  Married       15000-19~       17500    1.27
## # ... with 20,283 more rows, and 66 more variables: HomeRooms &lt;int&gt;, HomeOwn &lt;fct&gt;, Work &lt;fct&gt;, Weight &lt;dbl&gt;,
## #   Length &lt;dbl&gt;, HeadCirc &lt;dbl&gt;, Height &lt;dbl&gt;, BMI &lt;dbl&gt;, BMICatUnder20yrs &lt;fct&gt;, BMI_WHO &lt;fct&gt;, Pulse &lt;int&gt;,
## #   BPSysAve &lt;int&gt;, BPDiaAve &lt;int&gt;, BPSys1 &lt;int&gt;, BPDia1 &lt;int&gt;, BPSys2 &lt;int&gt;, BPDia2 &lt;int&gt;, BPSys3 &lt;int&gt;,
## #   BPDia3 &lt;int&gt;, Testosterone &lt;dbl&gt;, DirectChol &lt;dbl&gt;, TotChol &lt;dbl&gt;, UrineVol1 &lt;int&gt;, UrineFlow1 &lt;dbl&gt;,
## #   UrineVol2 &lt;int&gt;, UrineFlow2 &lt;dbl&gt;, Diabetes &lt;fct&gt;, DiabetesAge &lt;int&gt;, HealthGen &lt;fct&gt;,
## #   DaysPhysHlthBad &lt;int&gt;, DaysMentHlthBad &lt;int&gt;, LittleInterest &lt;fct&gt;, Depressed &lt;fct&gt;, nPregnancies &lt;int&gt;,
## #   nBabies &lt;int&gt;, Age1stBaby &lt;int&gt;, SleepHrsNight &lt;int&gt;, SleepTrouble &lt;fct&gt;, PhysActive &lt;fct&gt;,
## #   PhysActiveDays &lt;int&gt;, TVHrsDay &lt;fct&gt;, CompHrsDay &lt;fct&gt;, TVHrsDayChild &lt;int&gt;, CompHrsDayChild &lt;int&gt;,
## #   Alcohol12PlusYr &lt;fct&gt;, AlcoholDay &lt;int&gt;, AlcoholYear &lt;int&gt;, SmokeNow &lt;fct&gt;, Smoke100 &lt;fct&gt;, SmokeAge &lt;int&gt;,
## #   Marijuana &lt;fct&gt;, AgeFirstMarij &lt;int&gt;, RegularMarij &lt;fct&gt;, AgeRegMarij &lt;int&gt;, HardDrugs &lt;fct&gt;,
## #   SexEver &lt;fct&gt;, SexAge &lt;int&gt;, SexNumPartnLife &lt;int&gt;, SexNumPartYear &lt;int&gt;, SameSex &lt;fct&gt;,
## #   SexOrientation &lt;fct&gt;, WTINT2YR &lt;dbl&gt;, WTMEC2YR &lt;dbl&gt;, SDMVPSU &lt;int&gt;, SDMVSTRA &lt;int&gt;, PregnantNow &lt;fct&gt;
```
]

---
count: false
 

.panel1-pipe-example-user[

```r
NHANES::NHANESraw %&gt;%
*   filter(Weight &gt; 65)
```
]
 
.panel2-pipe-example-user[

```
## # A tibble: 9,916 x 78
##       ID SurveyYr Gender   Age AgeMonths Race1   Race3 Education     MaritalStatus HHIncome  HHIncomeMid Poverty
##    &lt;int&gt; &lt;fct&gt;    &lt;fct&gt;  &lt;int&gt;     &lt;int&gt; &lt;fct&gt;   &lt;fct&gt; &lt;fct&gt;         &lt;fct&gt;         &lt;fct&gt;           &lt;int&gt;   &lt;dbl&gt;
##  1 51624 2009_10  male      34       409 White   &lt;NA&gt;  High School   Married       25000-34~       30000    1.36
##  2 51626 2009_10  male      16       202 Black   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          45000-54~       50000    2.27
##  3 51628 2009_10  female    60       722 Black   &lt;NA&gt;  High School   Widowed       10000-14~       12500    0.69
##  4 51629 2009_10  male      26       313 Mexican &lt;NA&gt;  9 - 11th Gra~ Married       25000-34~       30000    1.01
##  5 51630 2009_10  female    49       596 White   &lt;NA&gt;  Some College  LivePartner   35000-44~       40000    1.91
##  6 51633 2009_10  male      80        NA White   &lt;NA&gt;  Some College  Married       15000-19~       17500    1.27
##  7 51635 2009_10  male      80        NA White   &lt;NA&gt;  9 - 11th Gra~ Widowed       15000-19~       17500    1.69
##  8 51640 2009_10  male      17       208 Hispan~ &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          10000-14~       12500    0.3 
##  9 51643 2009_10  female    42       514 Black   &lt;NA&gt;  9 - 11th Gra~ Married       35000-44~       40000    2.35
## 10 51645 2009_10  male      66       795 Mexican &lt;NA&gt;  9 - 11th Gra~ Married       5000-9999        7500    0.41
## # ... with 9,906 more rows, and 66 more variables: HomeRooms &lt;int&gt;, HomeOwn &lt;fct&gt;, Work &lt;fct&gt;, Weight &lt;dbl&gt;,
## #   Length &lt;dbl&gt;, HeadCirc &lt;dbl&gt;, Height &lt;dbl&gt;, BMI &lt;dbl&gt;, BMICatUnder20yrs &lt;fct&gt;, BMI_WHO &lt;fct&gt;, Pulse &lt;int&gt;,
## #   BPSysAve &lt;int&gt;, BPDiaAve &lt;int&gt;, BPSys1 &lt;int&gt;, BPDia1 &lt;int&gt;, BPSys2 &lt;int&gt;, BPDia2 &lt;int&gt;, BPSys3 &lt;int&gt;,
## #   BPDia3 &lt;int&gt;, Testosterone &lt;dbl&gt;, DirectChol &lt;dbl&gt;, TotChol &lt;dbl&gt;, UrineVol1 &lt;int&gt;, UrineFlow1 &lt;dbl&gt;,
## #   UrineVol2 &lt;int&gt;, UrineFlow2 &lt;dbl&gt;, Diabetes &lt;fct&gt;, DiabetesAge &lt;int&gt;, HealthGen &lt;fct&gt;,
## #   DaysPhysHlthBad &lt;int&gt;, DaysMentHlthBad &lt;int&gt;, LittleInterest &lt;fct&gt;, Depressed &lt;fct&gt;, nPregnancies &lt;int&gt;,
## #   nBabies &lt;int&gt;, Age1stBaby &lt;int&gt;, SleepHrsNight &lt;int&gt;, SleepTrouble &lt;fct&gt;, PhysActive &lt;fct&gt;,
## #   PhysActiveDays &lt;int&gt;, TVHrsDay &lt;fct&gt;, CompHrsDay &lt;fct&gt;, TVHrsDayChild &lt;int&gt;, CompHrsDayChild &lt;int&gt;,
## #   Alcohol12PlusYr &lt;fct&gt;, AlcoholDay &lt;int&gt;, AlcoholYear &lt;int&gt;, SmokeNow &lt;fct&gt;, Smoke100 &lt;fct&gt;, SmokeAge &lt;int&gt;,
## #   Marijuana &lt;fct&gt;, AgeFirstMarij &lt;int&gt;, RegularMarij &lt;fct&gt;, AgeRegMarij &lt;int&gt;, HardDrugs &lt;fct&gt;,
## #   SexEver &lt;fct&gt;, SexAge &lt;int&gt;, SexNumPartnLife &lt;int&gt;, SexNumPartYear &lt;int&gt;, SameSex &lt;fct&gt;,
## #   SexOrientation &lt;fct&gt;, WTINT2YR &lt;dbl&gt;, WTMEC2YR &lt;dbl&gt;, SDMVPSU &lt;int&gt;, SDMVSTRA &lt;int&gt;, PregnantNow &lt;fct&gt;
```
]

---
count: false
 

.panel1-pipe-example-user[

```r
NHANES::NHANESraw %&gt;%
    filter(Weight &gt; 65) %&gt;%
*   select(Weight,
*          Diabetes,
*          SmokeNow)
```
]
 
.panel2-pipe-example-user[

```
## # A tibble: 9,916 x 3
##    Weight Diabetes SmokeNow
##     &lt;dbl&gt; &lt;fct&gt;    &lt;fct&gt;   
##  1   87.4 No       No      
##  2   72.3 No       &lt;NA&gt;    
##  3  117.  Yes      Yes     
##  4   97.6 No       No      
##  5   86.7 No       Yes     
##  6   79.1 No       No      
##  7   89.6 Yes      No      
##  8   74.7 No       &lt;NA&gt;    
##  9  108.  Yes      &lt;NA&gt;    
## 10   82.9 No       &lt;NA&gt;    
## # ... with 9,906 more rows
```
]

&lt;style&gt;
.panel1-pipe-example-user {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-pipe-example-user {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-pipe-example-user {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;



---
name: your-turn
background-color: var(--my-red)
class: inverse
.left-column[
## Your turn&lt;br&gt;&lt;svg viewBox="0 0 576 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;br&gt;
]
.right-column[
### Let's filter and select variables in our dataset
----

Using pipes, show the columns for `ID`, `Smoke100` and `SleepHrsNight` for respondents who have an average of 2 or more drinks year day when they consume alcohol (`AlcoholDay`) and who has consumed more than 100 cigarettes in their life (`Smoke100`)

Save this to a new data frame. How many rows and columns does it have?

]
<div class="countdown blink-colon noupdate-15" id="timer_60ad93fd" style="bottom:0;left:0;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">04</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

---


count: false
 

.panel1-piped-2-auto[

```r
*NHANES::NHANESraw
```
]
 
.panel2-piped-2-auto[

```
## # A tibble: 20,293 x 78
##       ID SurveyYr Gender   Age AgeMonths Race1   Race3 Education     MaritalStatus HHIncome  HHIncomeMid Poverty
##    &lt;int&gt; &lt;fct&gt;    &lt;fct&gt;  &lt;int&gt;     &lt;int&gt; &lt;fct&gt;   &lt;fct&gt; &lt;fct&gt;         &lt;fct&gt;         &lt;fct&gt;           &lt;int&gt;   &lt;dbl&gt;
##  1 51624 2009_10  male      34       409 White   &lt;NA&gt;  High School   Married       25000-34~       30000    1.36
##  2 51625 2009_10  male       4        49 Other   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          20000-24~       22500    1.07
##  3 51626 2009_10  male      16       202 Black   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          45000-54~       50000    2.27
##  4 51627 2009_10  male      10       131 Black   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          20000-24~       22500    0.81
##  5 51628 2009_10  female    60       722 Black   &lt;NA&gt;  High School   Widowed       10000-14~       12500    0.69
##  6 51629 2009_10  male      26       313 Mexican &lt;NA&gt;  9 - 11th Gra~ Married       25000-34~       30000    1.01
##  7 51630 2009_10  female    49       596 White   &lt;NA&gt;  Some College  LivePartner   35000-44~       40000    1.91
##  8 51631 2009_10  female     1        12 White   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          35000-44~       40000    1.36
##  9 51632 2009_10  male      10       124 Hispan~ &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          65000-74~       70000    2.68
## 10 51633 2009_10  male      80        NA White   &lt;NA&gt;  Some College  Married       15000-19~       17500    1.27
## # ... with 20,283 more rows, and 66 more variables: HomeRooms &lt;int&gt;, HomeOwn &lt;fct&gt;, Work &lt;fct&gt;, Weight &lt;dbl&gt;,
## #   Length &lt;dbl&gt;, HeadCirc &lt;dbl&gt;, Height &lt;dbl&gt;, BMI &lt;dbl&gt;, BMICatUnder20yrs &lt;fct&gt;, BMI_WHO &lt;fct&gt;, Pulse &lt;int&gt;,
## #   BPSysAve &lt;int&gt;, BPDiaAve &lt;int&gt;, BPSys1 &lt;int&gt;, BPDia1 &lt;int&gt;, BPSys2 &lt;int&gt;, BPDia2 &lt;int&gt;, BPSys3 &lt;int&gt;,
## #   BPDia3 &lt;int&gt;, Testosterone &lt;dbl&gt;, DirectChol &lt;dbl&gt;, TotChol &lt;dbl&gt;, UrineVol1 &lt;int&gt;, UrineFlow1 &lt;dbl&gt;,
## #   UrineVol2 &lt;int&gt;, UrineFlow2 &lt;dbl&gt;, Diabetes &lt;fct&gt;, DiabetesAge &lt;int&gt;, HealthGen &lt;fct&gt;,
## #   DaysPhysHlthBad &lt;int&gt;, DaysMentHlthBad &lt;int&gt;, LittleInterest &lt;fct&gt;, Depressed &lt;fct&gt;, nPregnancies &lt;int&gt;,
## #   nBabies &lt;int&gt;, Age1stBaby &lt;int&gt;, SleepHrsNight &lt;int&gt;, SleepTrouble &lt;fct&gt;, PhysActive &lt;fct&gt;,
## #   PhysActiveDays &lt;int&gt;, TVHrsDay &lt;fct&gt;, CompHrsDay &lt;fct&gt;, TVHrsDayChild &lt;int&gt;, CompHrsDayChild &lt;int&gt;,
## #   Alcohol12PlusYr &lt;fct&gt;, AlcoholDay &lt;int&gt;, AlcoholYear &lt;int&gt;, SmokeNow &lt;fct&gt;, Smoke100 &lt;fct&gt;, SmokeAge &lt;int&gt;,
## #   Marijuana &lt;fct&gt;, AgeFirstMarij &lt;int&gt;, RegularMarij &lt;fct&gt;, AgeRegMarij &lt;int&gt;, HardDrugs &lt;fct&gt;,
## #   SexEver &lt;fct&gt;, SexAge &lt;int&gt;, SexNumPartnLife &lt;int&gt;, SexNumPartYear &lt;int&gt;, SameSex &lt;fct&gt;,
## #   SexOrientation &lt;fct&gt;, WTINT2YR &lt;dbl&gt;, WTMEC2YR &lt;dbl&gt;, SDMVPSU &lt;int&gt;, SDMVSTRA &lt;int&gt;, PregnantNow &lt;fct&gt;
```
]

---
count: false
 

.panel1-piped-2-auto[

```r
NHANES::NHANESraw %&gt;%
*   filter(AlcoholDay &gt;= 2,
*          Smoke100 == "Yes")
```
]
 
.panel2-piped-2-auto[

```
## # A tibble: 2,424 x 78
##       ID SurveyYr Gender   Age AgeMonths Race1   Race3 Education    MaritalStatus HHIncome   HHIncomeMid Poverty
##    &lt;int&gt; &lt;fct&gt;    &lt;fct&gt;  &lt;int&gt;     &lt;int&gt; &lt;fct&gt;   &lt;fct&gt; &lt;fct&gt;        &lt;fct&gt;         &lt;fct&gt;            &lt;int&gt;   &lt;dbl&gt;
##  1 51629 2009_10  male      26       313 Mexican &lt;NA&gt;  9 - 11th Gr~ Married       25000-349~       30000    1.01
##  2 51630 2009_10  female    49       596 White   &lt;NA&gt;  Some College LivePartner   35000-449~       40000    1.91
##  3 51648 2009_10  male      28       338 Mexican &lt;NA&gt;  8th Grade    NeverMarried  10000-149~       12500    0.09
##  4 51668 2009_10  female    70       842 Black   &lt;NA&gt;  9 - 11th Gr~ Divorced      5000-9999         7500    0.49
##  5 51673 2009_10  female    30       360 White   &lt;NA&gt;  High School  Married       15000-199~       17500    0.68
##  6 51677 2009_10  male      33       404 White   &lt;NA&gt;  High School  Married       25000-349~       30000    1.27
##  7 51678 2009_10  male      60       721 White   &lt;NA&gt;  High School  Married       15000-199~       17500    1.03
##  8 51680 2009_10  female    60       727 Black   &lt;NA&gt;  Some College NeverMarried  25000-349~       30000    2.59
##  9 51687 2009_10  male      78       937 White   &lt;NA&gt;  College Grad Married       75000-999~       87500    5   
## 10 51697 2009_10  male      27       328 Black   &lt;NA&gt;  9 - 11th Gr~ Married       20000-249~       22500    1.58
## # ... with 2,414 more rows, and 66 more variables: HomeRooms &lt;int&gt;, HomeOwn &lt;fct&gt;, Work &lt;fct&gt;, Weight &lt;dbl&gt;,
## #   Length &lt;dbl&gt;, HeadCirc &lt;dbl&gt;, Height &lt;dbl&gt;, BMI &lt;dbl&gt;, BMICatUnder20yrs &lt;fct&gt;, BMI_WHO &lt;fct&gt;, Pulse &lt;int&gt;,
## #   BPSysAve &lt;int&gt;, BPDiaAve &lt;int&gt;, BPSys1 &lt;int&gt;, BPDia1 &lt;int&gt;, BPSys2 &lt;int&gt;, BPDia2 &lt;int&gt;, BPSys3 &lt;int&gt;,
## #   BPDia3 &lt;int&gt;, Testosterone &lt;dbl&gt;, DirectChol &lt;dbl&gt;, TotChol &lt;dbl&gt;, UrineVol1 &lt;int&gt;, UrineFlow1 &lt;dbl&gt;,
## #   UrineVol2 &lt;int&gt;, UrineFlow2 &lt;dbl&gt;, Diabetes &lt;fct&gt;, DiabetesAge &lt;int&gt;, HealthGen &lt;fct&gt;,
## #   DaysPhysHlthBad &lt;int&gt;, DaysMentHlthBad &lt;int&gt;, LittleInterest &lt;fct&gt;, Depressed &lt;fct&gt;, nPregnancies &lt;int&gt;,
## #   nBabies &lt;int&gt;, Age1stBaby &lt;int&gt;, SleepHrsNight &lt;int&gt;, SleepTrouble &lt;fct&gt;, PhysActive &lt;fct&gt;,
## #   PhysActiveDays &lt;int&gt;, TVHrsDay &lt;fct&gt;, CompHrsDay &lt;fct&gt;, TVHrsDayChild &lt;int&gt;, CompHrsDayChild &lt;int&gt;,
## #   Alcohol12PlusYr &lt;fct&gt;, AlcoholDay &lt;int&gt;, AlcoholYear &lt;int&gt;, SmokeNow &lt;fct&gt;, Smoke100 &lt;fct&gt;, SmokeAge &lt;int&gt;,
## #   Marijuana &lt;fct&gt;, AgeFirstMarij &lt;int&gt;, RegularMarij &lt;fct&gt;, AgeRegMarij &lt;int&gt;, HardDrugs &lt;fct&gt;,
## #   SexEver &lt;fct&gt;, SexAge &lt;int&gt;, SexNumPartnLife &lt;int&gt;, SexNumPartYear &lt;int&gt;, SameSex &lt;fct&gt;,
## #   SexOrientation &lt;fct&gt;, WTINT2YR &lt;dbl&gt;, WTMEC2YR &lt;dbl&gt;, SDMVPSU &lt;int&gt;, SDMVSTRA &lt;int&gt;, PregnantNow &lt;fct&gt;
```
]

---
count: false
 

.panel1-piped-2-auto[

```r
NHANES::NHANESraw %&gt;%
    filter(AlcoholDay &gt;= 2,
           Smoke100 == "Yes") %&gt;%
* select(ID, Smoke100, SleepHrsNight)
```
]
 
.panel2-piped-2-auto[

```
## # A tibble: 2,424 x 3
##       ID Smoke100 SleepHrsNight
##    &lt;int&gt; &lt;fct&gt;            &lt;int&gt;
##  1 51629 Yes                  4
##  2 51630 Yes                  8
##  3 51648 Yes                  8
##  4 51668 Yes                  4
##  5 51673 Yes                  8
##  6 51677 Yes                  6
##  7 51678 Yes                  6
##  8 51680 Yes                  6
##  9 51687 Yes                  6
## 10 51697 Yes                  7
## # ... with 2,414 more rows
```
]

&lt;style&gt;
.panel1-piped-2-auto {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-piped-2-auto {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-piped-2-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;



---

# Arrange &lt;img src="img/dplyr.png" class="title-hex"&gt;
----



.panelset[
.panel[.panel-name[Arrange]
Rearrange the Order of the Rows
- Use `arrange()` to order rows by the value of one or more variables.
] &lt;!-- end panel --&gt;

.panel[.panel-name[Ascending]

.pull-left[
The **default is to arrange in ascending order** from top to bottom so the lowest number is on top. 


```r
NHANES::NHANESraw %&gt;% 
    arrange(SleepHrsNight) 
```
]&lt;!-- end pull-left --&gt;

.pull-right[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:right;"&gt; ID &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; SurveyYr &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Gender &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Age &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; AgeMonths &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Race1 &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Race3 &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Education &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; MaritalStatus &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; HHIncome &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; HHIncomeMid &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Poverty &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; HomeRooms &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; HomeOwn &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Work &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Weight &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Length &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; HeadCirc &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Height &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; BMI &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; BMICatUnder20yrs &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; BMI_WHO &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Pulse &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; BPSysAve &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; BPDiaAve &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; BPSys1 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; BPDia1 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; BPSys2 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; BPDia2 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; BPSys3 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; BPDia3 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Testosterone &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; DirectChol &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; TotChol &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; UrineVol1 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; UrineFlow1 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; UrineVol2 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; UrineFlow2 &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Diabetes &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; DiabetesAge &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; HealthGen &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; DaysPhysHlthBad &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; DaysMentHlthBad &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; LittleInterest &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Depressed &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nPregnancies &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nBabies &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Age1stBaby &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; SleepHrsNight &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; SleepTrouble &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; PhysActive &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; PhysActiveDays &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; TVHrsDay &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; CompHrsDay &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; TVHrsDayChild &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; CompHrsDayChild &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Alcohol12PlusYr &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; AlcoholDay &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; AlcoholYear &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; SmokeNow &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Smoke100 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; SmokeAge &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Marijuana &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; AgeFirstMarij &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; RegularMarij &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; AgeRegMarij &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; HardDrugs &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; SexEver &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; SexAge &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; SexNumPartnLife &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; SexNumPartYear &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; SameSex &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; SexOrientation &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; WTINT2YR &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; WTMEC2YR &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; SDMVPSU &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; SDMVSTRA &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; PregnantNow &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 52120 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2009_10 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; female &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 25 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 300 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; White &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 9 - 11th Grade &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Married &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Rent &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NotWorking &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 102.4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 159.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 40.45 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 30.0_plus &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 114 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 56 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 108 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 56 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 114 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 58 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 114 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 54 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.76 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6.49 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 122 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Good &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 15 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Several &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Most &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 14 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 24 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Bisexual &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 24146.60 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 24164.01 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 83 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 53243 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2009_10 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; female &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 43 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 523 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; White &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Some College &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Divorced &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10000-14999 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 12500 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.76 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Own &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Looking &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 98.4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 163.4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 30.0_plus &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 64 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 129 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 132 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 136 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 122 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.83 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6.44 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 58 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.307 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Fair &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; None &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; None &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 18 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 24 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Heterosexual &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20147.96 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20120.87 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 81 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 53559 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2009_10 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; male &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 54 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 659 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Mexican &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; High School &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Married &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 25000-34999 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30000 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.40 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Rent &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NotWorking &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 77.4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 164.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 28.67 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 25.0_to_29.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 62 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 128 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 66 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 122 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 68 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 124 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 66 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 132 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 66 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.96 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.28 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 88 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.351 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Poor &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 15 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Several &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Several &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 15 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 17 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 60 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Heterosexual &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 13702.50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 14052.93 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 80 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 53594 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2009_10 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; male &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 49 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 598 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Black &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Some College &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Married &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 45000-54999 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50000 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.29 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Own &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NotWorking &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 90.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 166.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 32.72 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 30.0_plus &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 72 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 123 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 64 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 124 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 74 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 122 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 62 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 124 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 66 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2.12 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 49 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.336 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 48 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Poor &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; None &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Several &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 17 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Heterosexual &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20561.67 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20282.93 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 84 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 54482 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2009_10 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; female &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 602 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; White &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 8th Grade &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; LivePartner &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 35000-44999 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 40000 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.47 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Own &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NotWorking &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 88.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 169.2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30.98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 30.0_plus &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 76 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 114 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 79 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 112 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 72 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 110 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 74 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 118 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 84 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.85 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4.22 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 68 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.463 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Good &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; None &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Several &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 14 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Homosexual &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22032.36 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 21678.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 86 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 55194 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2009_10 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; female &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 75 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 904 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; White &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Some College &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Married &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; more 99999 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 100000 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5.00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Own &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Working &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 103.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 155.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 42.75 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 30.0_plus &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 74 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 100 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 104 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 102 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.34 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.67 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 62 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.016 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Good &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 15 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; None &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; None &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 38596.48 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 38913.51 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 76 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
] &lt;!-- end pull-right --&gt;
] &lt;!-- end panel --&gt;

.panel[.panel-name[Descending]

.pull-left[
The **default is to arrange in ascending order** from top to bottom so the lowest number is on top. 


```r
NHANES::NHANESraw %&gt;% 
    arrange(-SleepHrsNight) 
```
or

```r
NHANES::NHANESraw %&gt;% 
    arrange(desc(SleepHrsNight)) 
```
]&lt;!-- end pull-left --&gt;

.pull-right[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:right;"&gt; ID &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; SurveyYr &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Gender &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Age &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; AgeMonths &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Race1 &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Race3 &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Education &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; MaritalStatus &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; HHIncome &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; HHIncomeMid &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Poverty &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; HomeRooms &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; HomeOwn &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Work &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Weight &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Length &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; HeadCirc &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Height &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; BMI &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; BMICatUnder20yrs &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; BMI_WHO &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Pulse &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; BPSysAve &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; BPDiaAve &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; BPSys1 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; BPDia1 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; BPSys2 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; BPDia2 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; BPSys3 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; BPDia3 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Testosterone &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; DirectChol &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; TotChol &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; UrineVol1 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; UrineFlow1 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; UrineVol2 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; UrineFlow2 &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Diabetes &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; DiabetesAge &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; HealthGen &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; DaysPhysHlthBad &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; DaysMentHlthBad &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; LittleInterest &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Depressed &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nPregnancies &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nBabies &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Age1stBaby &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; SleepHrsNight &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; SleepTrouble &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; PhysActive &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; PhysActiveDays &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; TVHrsDay &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; CompHrsDay &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; TVHrsDayChild &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; CompHrsDayChild &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Alcohol12PlusYr &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; AlcoholDay &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; AlcoholYear &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; SmokeNow &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Smoke100 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; SmokeAge &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Marijuana &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; AgeFirstMarij &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; RegularMarij &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; AgeRegMarij &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; HardDrugs &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; SexEver &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; SexAge &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; SexNumPartnLife &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; SexNumPartYear &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; SameSex &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; SexOrientation &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; WTINT2YR &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; WTMEC2YR &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; SDMVPSU &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; SDMVSTRA &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; PregnantNow &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 51769 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2009_10 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; female &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; White &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; College Grad &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Widowed &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 75000-99999 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 87500 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4.31 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Own &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NotWorking &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 110 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 60 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 104 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 62 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 110 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 60 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 12 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 29691.116 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 32858.033 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 77 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 51952 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2009_10 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; female &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 46 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 556 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; White &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; High School &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Married &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; more 99999 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 100000 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5.00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Own &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Working &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 62.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 166.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22.50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 18.5_to_24.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 66 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 124 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 75 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 130 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 84 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 122 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 76 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 126 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 74 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.47 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4.34 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 26 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.183 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Vgood &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 15 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; None &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; None &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 25 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 12 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 19 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Heterosexual &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 62342.174 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 63386.840 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 84 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 52513 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2009_10 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; female &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 73 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 884 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Mexican &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 8th Grade &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Married &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 35000-44999 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 40000 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.81 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Own &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NotWorking &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 77.8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 151.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 33.81 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 30.0_plus &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 62 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 107 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 57 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 108 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 56 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 106 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 58 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 108 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 56 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.24 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.49 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.476 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 136 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.978 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Good &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; None &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; None &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 12 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8779.904 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10355.639 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 89 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 52682 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2009_10 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; male &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 64 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 772 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Mexican &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 8th Grade &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Married &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 35000-44999 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 40000 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.81 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Own &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NotWorking &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 65.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 164.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.94 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 18.5_to_24.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 68 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 111 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 58 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 118 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 64 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 112 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 58 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 110 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 58 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.11 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4.34 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.115 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.230 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 61 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Fair &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; None &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; None &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 12 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5913.060 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6291.622 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 89 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 52832 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2009_10 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; female &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 366 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; White &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Some College &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Divorced &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 20000-24999 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22500 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.37 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Own &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NotWorking &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 81.2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 163.2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30.49 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 30.0_plus &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 104 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 48 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 46 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 104 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 104 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 46 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.58 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4.55 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.298 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.333 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Vgood &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; None &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; None &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 12 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 100 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Heterosexual &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 24930.457 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 26170.160 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 75 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 53026 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2009_10 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; female &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; White &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Some College &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Widowed &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Own &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NotWorking &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 12 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 24849.914 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.000 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 77 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
] &lt;!-- end pull-right --&gt;
] &lt;!-- end panel --&gt;
] &lt;!-- end panelset --&gt;

---

# Renaming variables &lt;img src="img/dplyr, janitor.png" class="title-hex"&gt;

.panelset[

.panel[.panel-name[rename]
Using the rename function:

```r
NHANES::NHANESraw %&gt;% 
  select(Weight, Height, BMI) %&gt;% 
  rename(weight = Weight, 
         height = Height, 
         bmi = BMI)
```
]&lt;!--  end panel --&gt;

.panel[.panel-name[select]
Another alternative is to rename columns in the the select function itself:

```r
NHANES::NHANESraw %&gt;% 
  select(weight = Weight, 
         height = Height, 
         bmi = BMI, 
         ID)
```
] &lt;!--  end panel --&gt;

.panel[.panel-name[janitor]
Finally, there is an extremely popular package called `janitor` that enables fast cleaning of all variable names:

.pull-left[

```r
install.packages("janitor")
library(janitor)
NHANES::NHANESraw %&gt;% 
  clean_names()
```
]&lt;!-- end pull-left --&gt;
.pull-right[
original names:
```
ID SurveyYr Gender Age AgeMonths Race1 Race3 Education MaritalStatus HHIncome HHIncomeMid Poverty HomeRooms HomeOwn Work Weight Length HeadCirc Height BMI
```

cleaned names:
```
id survey_yr gender age age_months race1 race3 education marital_status hh_income hh_income_mid poverty home_rooms home_own work weight length head_circ height bmi
```
] &lt;!-- end pull-right --&gt;
] &lt;!--  end panel --&gt;
] &lt;!--  end panelset --&gt;

---


template: question

&lt;svg viewBox="0 0 576 512" style="position:relative;display:inline-block;top:.1em;height:3em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"&gt;&lt;/path&gt;&lt;/svg&gt;
# How do change the data itself?

---


# mutate &lt;img src="img/pipe.png" class="title-hex"&gt;&lt;img src="img/dplyr.png" class="title-hex"&gt;
----
The variables we have are usually not enough for all the questions we want to look at in an analysis.
  + We often use a `log()` function to transform positive data to reduce skew or try to make associations more linear.
  + We also like to combine variables to create new attributes based on existing attributes.
  
Therefore, we may want to create new columns based on the values in existing columns, for example to do unit conversions, or to find the ratio of values in two columns. For this we'll use `mutate()`.

We use `mutate()` to **create new variables from old** - adds one or more columns to our temporary data frame. We do this *a lot*!

---


# mutate &lt;img src="img/pipe.png" class="title-hex"&gt;&lt;img src="img/dplyr.png" class="title-hex"&gt;
----

```r
data %&gt;% 
  mutate(new_name = function(old_name))
```



---
template: live-coding


---
name: your-turn
background-color: var(--my-red)
class: inverse

.left-column[
## Your turn&lt;br&gt;&lt;svg viewBox="0 0 576 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;br&gt;
]

.right-column[
### Let's use mutate to wrangle out dataset
----

- Using pipes, create a new column that recalculates the BMI using the formula `\(BMI\_new = kg/m^2\)`
- Note - the Height column is in `cm`! 
- Select the participants who have a BMI_new smaller than 16 
- display their `ID`, `BMI_new`, and `BMI`
- Sort by `bmi_new`

]

<div class="countdown blink-colon noupdate-15" id="timer_60ad916c" style="bottom:0;left:0;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">04</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

---


count: false
 

.panel1-mutate-exercise-auto[

```r
*NHANES::NHANESraw
```
]
 
.panel2-mutate-exercise-auto[

```
## # A tibble: 20,293 x 78
##       ID SurveyYr Gender   Age AgeMonths Race1   Race3 Education     MaritalStatus HHIncome  HHIncomeMid Poverty
##    &lt;int&gt; &lt;fct&gt;    &lt;fct&gt;  &lt;int&gt;     &lt;int&gt; &lt;fct&gt;   &lt;fct&gt; &lt;fct&gt;         &lt;fct&gt;         &lt;fct&gt;           &lt;int&gt;   &lt;dbl&gt;
##  1 51624 2009_10  male      34       409 White   &lt;NA&gt;  High School   Married       25000-34~       30000    1.36
##  2 51625 2009_10  male       4        49 Other   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          20000-24~       22500    1.07
##  3 51626 2009_10  male      16       202 Black   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          45000-54~       50000    2.27
##  4 51627 2009_10  male      10       131 Black   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          20000-24~       22500    0.81
##  5 51628 2009_10  female    60       722 Black   &lt;NA&gt;  High School   Widowed       10000-14~       12500    0.69
##  6 51629 2009_10  male      26       313 Mexican &lt;NA&gt;  9 - 11th Gra~ Married       25000-34~       30000    1.01
##  7 51630 2009_10  female    49       596 White   &lt;NA&gt;  Some College  LivePartner   35000-44~       40000    1.91
##  8 51631 2009_10  female     1        12 White   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          35000-44~       40000    1.36
##  9 51632 2009_10  male      10       124 Hispan~ &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          65000-74~       70000    2.68
## 10 51633 2009_10  male      80        NA White   &lt;NA&gt;  Some College  Married       15000-19~       17500    1.27
## # ... with 20,283 more rows, and 66 more variables: HomeRooms &lt;int&gt;, HomeOwn &lt;fct&gt;, Work &lt;fct&gt;, Weight &lt;dbl&gt;,
## #   Length &lt;dbl&gt;, HeadCirc &lt;dbl&gt;, Height &lt;dbl&gt;, BMI &lt;dbl&gt;, BMICatUnder20yrs &lt;fct&gt;, BMI_WHO &lt;fct&gt;, Pulse &lt;int&gt;,
## #   BPSysAve &lt;int&gt;, BPDiaAve &lt;int&gt;, BPSys1 &lt;int&gt;, BPDia1 &lt;int&gt;, BPSys2 &lt;int&gt;, BPDia2 &lt;int&gt;, BPSys3 &lt;int&gt;,
## #   BPDia3 &lt;int&gt;, Testosterone &lt;dbl&gt;, DirectChol &lt;dbl&gt;, TotChol &lt;dbl&gt;, UrineVol1 &lt;int&gt;, UrineFlow1 &lt;dbl&gt;,
## #   UrineVol2 &lt;int&gt;, UrineFlow2 &lt;dbl&gt;, Diabetes &lt;fct&gt;, DiabetesAge &lt;int&gt;, HealthGen &lt;fct&gt;,
## #   DaysPhysHlthBad &lt;int&gt;, DaysMentHlthBad &lt;int&gt;, LittleInterest &lt;fct&gt;, Depressed &lt;fct&gt;, nPregnancies &lt;int&gt;,
## #   nBabies &lt;int&gt;, Age1stBaby &lt;int&gt;, SleepHrsNight &lt;int&gt;, SleepTrouble &lt;fct&gt;, PhysActive &lt;fct&gt;,
## #   PhysActiveDays &lt;int&gt;, TVHrsDay &lt;fct&gt;, CompHrsDay &lt;fct&gt;, TVHrsDayChild &lt;int&gt;, CompHrsDayChild &lt;int&gt;,
## #   Alcohol12PlusYr &lt;fct&gt;, AlcoholDay &lt;int&gt;, AlcoholYear &lt;int&gt;, SmokeNow &lt;fct&gt;, Smoke100 &lt;fct&gt;, SmokeAge &lt;int&gt;,
## #   Marijuana &lt;fct&gt;, AgeFirstMarij &lt;int&gt;, RegularMarij &lt;fct&gt;, AgeRegMarij &lt;int&gt;, HardDrugs &lt;fct&gt;,
## #   SexEver &lt;fct&gt;, SexAge &lt;int&gt;, SexNumPartnLife &lt;int&gt;, SexNumPartYear &lt;int&gt;, SameSex &lt;fct&gt;,
## #   SexOrientation &lt;fct&gt;, WTINT2YR &lt;dbl&gt;, WTMEC2YR &lt;dbl&gt;, SDMVPSU &lt;int&gt;, SDMVSTRA &lt;int&gt;, PregnantNow &lt;fct&gt;
```
]

---
count: false
 

.panel1-mutate-exercise-auto[

```r
NHANES::NHANESraw %&gt;%
* mutate(Height_m = Height / 100,
*        bmi_new = Weight/(Height_m ^ 2))
```
]
 
.panel2-mutate-exercise-auto[

```
## # A tibble: 20,293 x 80
##       ID SurveyYr Gender   Age AgeMonths Race1   Race3 Education     MaritalStatus HHIncome  HHIncomeMid Poverty
##    &lt;int&gt; &lt;fct&gt;    &lt;fct&gt;  &lt;int&gt;     &lt;int&gt; &lt;fct&gt;   &lt;fct&gt; &lt;fct&gt;         &lt;fct&gt;         &lt;fct&gt;           &lt;int&gt;   &lt;dbl&gt;
##  1 51624 2009_10  male      34       409 White   &lt;NA&gt;  High School   Married       25000-34~       30000    1.36
##  2 51625 2009_10  male       4        49 Other   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          20000-24~       22500    1.07
##  3 51626 2009_10  male      16       202 Black   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          45000-54~       50000    2.27
##  4 51627 2009_10  male      10       131 Black   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          20000-24~       22500    0.81
##  5 51628 2009_10  female    60       722 Black   &lt;NA&gt;  High School   Widowed       10000-14~       12500    0.69
##  6 51629 2009_10  male      26       313 Mexican &lt;NA&gt;  9 - 11th Gra~ Married       25000-34~       30000    1.01
##  7 51630 2009_10  female    49       596 White   &lt;NA&gt;  Some College  LivePartner   35000-44~       40000    1.91
##  8 51631 2009_10  female     1        12 White   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          35000-44~       40000    1.36
##  9 51632 2009_10  male      10       124 Hispan~ &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          65000-74~       70000    2.68
## 10 51633 2009_10  male      80        NA White   &lt;NA&gt;  Some College  Married       15000-19~       17500    1.27
## # ... with 20,283 more rows, and 68 more variables: HomeRooms &lt;int&gt;, HomeOwn &lt;fct&gt;, Work &lt;fct&gt;, Weight &lt;dbl&gt;,
## #   Length &lt;dbl&gt;, HeadCirc &lt;dbl&gt;, Height &lt;dbl&gt;, BMI &lt;dbl&gt;, BMICatUnder20yrs &lt;fct&gt;, BMI_WHO &lt;fct&gt;, Pulse &lt;int&gt;,
## #   BPSysAve &lt;int&gt;, BPDiaAve &lt;int&gt;, BPSys1 &lt;int&gt;, BPDia1 &lt;int&gt;, BPSys2 &lt;int&gt;, BPDia2 &lt;int&gt;, BPSys3 &lt;int&gt;,
## #   BPDia3 &lt;int&gt;, Testosterone &lt;dbl&gt;, DirectChol &lt;dbl&gt;, TotChol &lt;dbl&gt;, UrineVol1 &lt;int&gt;, UrineFlow1 &lt;dbl&gt;,
## #   UrineVol2 &lt;int&gt;, UrineFlow2 &lt;dbl&gt;, Diabetes &lt;fct&gt;, DiabetesAge &lt;int&gt;, HealthGen &lt;fct&gt;,
## #   DaysPhysHlthBad &lt;int&gt;, DaysMentHlthBad &lt;int&gt;, LittleInterest &lt;fct&gt;, Depressed &lt;fct&gt;, nPregnancies &lt;int&gt;,
## #   nBabies &lt;int&gt;, Age1stBaby &lt;int&gt;, SleepHrsNight &lt;int&gt;, SleepTrouble &lt;fct&gt;, PhysActive &lt;fct&gt;,
## #   PhysActiveDays &lt;int&gt;, TVHrsDay &lt;fct&gt;, CompHrsDay &lt;fct&gt;, TVHrsDayChild &lt;int&gt;, CompHrsDayChild &lt;int&gt;,
## #   Alcohol12PlusYr &lt;fct&gt;, AlcoholDay &lt;int&gt;, AlcoholYear &lt;int&gt;, SmokeNow &lt;fct&gt;, Smoke100 &lt;fct&gt;, SmokeAge &lt;int&gt;,
## #   Marijuana &lt;fct&gt;, AgeFirstMarij &lt;int&gt;, RegularMarij &lt;fct&gt;, AgeRegMarij &lt;int&gt;, HardDrugs &lt;fct&gt;,
## #   SexEver &lt;fct&gt;, SexAge &lt;int&gt;, SexNumPartnLife &lt;int&gt;, SexNumPartYear &lt;int&gt;, SameSex &lt;fct&gt;,
## #   SexOrientation &lt;fct&gt;, WTINT2YR &lt;dbl&gt;, WTMEC2YR &lt;dbl&gt;, SDMVPSU &lt;int&gt;, SDMVSTRA &lt;int&gt;, PregnantNow &lt;fct&gt;,
## #   Height_m &lt;dbl&gt;, bmi_new &lt;dbl&gt;
```
]

---
count: false
 

.panel1-mutate-exercise-auto[

```r
NHANES::NHANESraw %&gt;%
  mutate(Height_m = Height / 100,
         bmi_new = Weight/(Height_m ^ 2)) %&gt;%
* filter(bmi_new &lt; 16)
```
]
 
.panel2-mutate-exercise-auto[

```
## # A tibble: 1,661 x 80
##       ID SurveyYr Gender   Age AgeMonths Race1    Race3 Education MaritalStatus HHIncome    HHIncomeMid Poverty
##    &lt;int&gt; &lt;fct&gt;    &lt;fct&gt;  &lt;int&gt;     &lt;int&gt; &lt;fct&gt;    &lt;fct&gt; &lt;fct&gt;     &lt;fct&gt;         &lt;fct&gt;             &lt;int&gt;   &lt;dbl&gt;
##  1 51625 2009_10  male       4        49 Other    &lt;NA&gt;  &lt;NA&gt;      &lt;NA&gt;          20000-24999       22500    1.07
##  2 51632 2009_10  male      10       124 Hispanic &lt;NA&gt;  &lt;NA&gt;      &lt;NA&gt;          65000-74999       70000    2.68
##  3 51642 2009_10  male       7        85 Mexican  &lt;NA&gt;  &lt;NA&gt;      &lt;NA&gt;          &lt;NA&gt;                 NA   NA   
##  4 51681 2009_10  female     5        64 White    &lt;NA&gt;  &lt;NA&gt;      &lt;NA&gt;          20000-24999       22500    1.09
##  5 51743 2009_10  male       8        98 Hispanic &lt;NA&gt;  &lt;NA&gt;      &lt;NA&gt;          65000-74999       70000    0.65
##  6 51753 2009_10  male       3        43 White    &lt;NA&gt;  &lt;NA&gt;      &lt;NA&gt;          55000-64999       60000    2.33
##  7 51797 2009_10  female     2        33 Hispanic &lt;NA&gt;  &lt;NA&gt;      &lt;NA&gt;          more 99999       100000    5   
##  8 51802 2009_10  male       2        35 Mexican  &lt;NA&gt;  &lt;NA&gt;      &lt;NA&gt;          &lt;NA&gt;                 NA   NA   
##  9 51810 2009_10  male       7        93 White    &lt;NA&gt;  &lt;NA&gt;      &lt;NA&gt;          more 99999       100000    5   
## 10 51811 2009_10  male       5        63 Black    &lt;NA&gt;  &lt;NA&gt;      &lt;NA&gt;          5000-9999          7500    0.12
## # ... with 1,651 more rows, and 68 more variables: HomeRooms &lt;int&gt;, HomeOwn &lt;fct&gt;, Work &lt;fct&gt;, Weight &lt;dbl&gt;,
## #   Length &lt;dbl&gt;, HeadCirc &lt;dbl&gt;, Height &lt;dbl&gt;, BMI &lt;dbl&gt;, BMICatUnder20yrs &lt;fct&gt;, BMI_WHO &lt;fct&gt;, Pulse &lt;int&gt;,
## #   BPSysAve &lt;int&gt;, BPDiaAve &lt;int&gt;, BPSys1 &lt;int&gt;, BPDia1 &lt;int&gt;, BPSys2 &lt;int&gt;, BPDia2 &lt;int&gt;, BPSys3 &lt;int&gt;,
## #   BPDia3 &lt;int&gt;, Testosterone &lt;dbl&gt;, DirectChol &lt;dbl&gt;, TotChol &lt;dbl&gt;, UrineVol1 &lt;int&gt;, UrineFlow1 &lt;dbl&gt;,
## #   UrineVol2 &lt;int&gt;, UrineFlow2 &lt;dbl&gt;, Diabetes &lt;fct&gt;, DiabetesAge &lt;int&gt;, HealthGen &lt;fct&gt;,
## #   DaysPhysHlthBad &lt;int&gt;, DaysMentHlthBad &lt;int&gt;, LittleInterest &lt;fct&gt;, Depressed &lt;fct&gt;, nPregnancies &lt;int&gt;,
## #   nBabies &lt;int&gt;, Age1stBaby &lt;int&gt;, SleepHrsNight &lt;int&gt;, SleepTrouble &lt;fct&gt;, PhysActive &lt;fct&gt;,
## #   PhysActiveDays &lt;int&gt;, TVHrsDay &lt;fct&gt;, CompHrsDay &lt;fct&gt;, TVHrsDayChild &lt;int&gt;, CompHrsDayChild &lt;int&gt;,
## #   Alcohol12PlusYr &lt;fct&gt;, AlcoholDay &lt;int&gt;, AlcoholYear &lt;int&gt;, SmokeNow &lt;fct&gt;, Smoke100 &lt;fct&gt;, SmokeAge &lt;int&gt;,
## #   Marijuana &lt;fct&gt;, AgeFirstMarij &lt;int&gt;, RegularMarij &lt;fct&gt;, AgeRegMarij &lt;int&gt;, HardDrugs &lt;fct&gt;,
## #   SexEver &lt;fct&gt;, SexAge &lt;int&gt;, SexNumPartnLife &lt;int&gt;, SexNumPartYear &lt;int&gt;, SameSex &lt;fct&gt;,
## #   SexOrientation &lt;fct&gt;, WTINT2YR &lt;dbl&gt;, WTMEC2YR &lt;dbl&gt;, SDMVPSU &lt;int&gt;, SDMVSTRA &lt;int&gt;, PregnantNow &lt;fct&gt;,
## #   Height_m &lt;dbl&gt;, bmi_new &lt;dbl&gt;
```
]

---
count: false
 

.panel1-mutate-exercise-auto[

```r
NHANES::NHANESraw %&gt;%
  mutate(Height_m = Height / 100,
         bmi_new = Weight/(Height_m ^ 2)) %&gt;%
  filter(bmi_new &lt; 16) %&gt;%
* select(ID, bmi_new, BMI)
```
]
 
.panel2-mutate-exercise-auto[

```
## # A tibble: 1,661 x 3
##       ID bmi_new   BMI
##    &lt;int&gt;   &lt;dbl&gt; &lt;dbl&gt;
##  1 51625    15.3  15.3
##  2 51632    13.2  13.2
##  3 51642    15.4  15.4
##  4 51681    14.3  14.4
##  5 51743    15.6  15.6
##  6 51753    14.4  14.4
##  7 51797    15.3  15.3
##  8 51802    15.4  15.4
##  9 51810    15.2  15.2
## 10 51811    14.8  14.8
## # ... with 1,651 more rows
```
]

---
count: false
 

.panel1-mutate-exercise-auto[

```r
NHANES::NHANESraw %&gt;%
  mutate(Height_m = Height / 100,
         bmi_new = Weight/(Height_m ^ 2)) %&gt;%
  filter(bmi_new &lt; 16) %&gt;%
  select(ID, bmi_new, BMI) %&gt;%
* arrange(bmi_new)
```
]
 
.panel2-mutate-exercise-auto[

```
## # A tibble: 1,661 x 3
##       ID bmi_new   BMI
##    &lt;int&gt;   &lt;dbl&gt; &lt;dbl&gt;
##  1 67971    12.4  12.4
##  2 71273    12.5  12.5
##  3 67553    12.5  12.5
##  4 53367    12.6  12.6
##  5 52518    12.6  12.6
##  6 65821    12.6  12.6
##  7 66417    12.7  12.7
##  8 52279    12.7  12.7
##  9 61406    12.7  12.7
## 10 69357    12.7  12.7
## # ... with 1,651 more rows
```
]

&lt;style&gt;
.panel1-mutate-exercise-auto {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-mutate-exercise-auto {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-mutate-exercise-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;





---

template: question

&lt;svg viewBox="0 0 640 512" style="position:relative;display:inline-block;top:.1em;height:3em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M128 352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm-24-80h192v48h48v-48h192v48h48v-57.59c0-21.17-17.23-38.41-38.41-38.41H344v-64h40c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32H256c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h40v64H94.41C73.23 224 56 241.23 56 262.41V320h48v-48zm264 80h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm240 0h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"&gt;&lt;/path&gt;&lt;/svg&gt;
# What about summary statistics?

---

# Summarize &lt;img src="img/pipe.png" class="title-hex"&gt;&lt;img src="img/dplyr.png" class="title-hex"&gt;
----
- We create summary statistics for variables by using the `summarize()` function.
- **Once you summarize, the data *not* being summarized is not included in the new data frame**  
  + You are creating a temporary, summarized version of the data frame with usually fewer rows

.pull-left[
The following calculates the mean BMI across all individuals
]
.pull-right[

```r
NHANES::NHANESraw %&gt;%
  summarize(BMI_mean = mean(BMI))
## # A tibble: 1 x 1
##   BMI_mean
##      &lt;dbl&gt;
## 1       NA
```
]

---

# Summarize &lt;img src="img/pipe.png" class="title-hex"&gt;&lt;img src="img/dplyr.png" class="title-hex"&gt;
----
Did you notice the `NA`? When `R` performs calculations with missing data, it (correctly) doesn't know how to evaluate them and forces the result to `NA`. to solve this, we need to add in a special option to tell R that we want to ignore the missing values. 


```r
NHANES::NHANESraw %&gt;%
  summarize(BMI_mean = mean(BMI, na.rm = TRUE))
## # A tibble: 1 x 1
##   BMI_mean
##      &lt;dbl&gt;
## 1     25.6
```




---
template: live-coding


---

# Summarize &lt;img src="img/pipe.png" class="title-hex"&gt;&lt;img src="img/dplyr.png" class="title-hex"&gt;
----
What if I want to see a different mean for each gender?

```r
summary(NHANES::NHANESraw$Gender)
## female   male 
##  10212  10081
```
.pull-left[

```r
NHANES::NHANESraw %&gt;%
  filter(Gender == "female") %&gt;% 
  summarize(BMI_mean_female = mean(BMI, na.rm = TRUE))
## # A tibble: 1 x 1
##   BMI_mean_female
##             &lt;dbl&gt;
## 1            26.1
```
]
.pull-right[

```r
NHANES::NHANESraw %&gt;%
  filter(Gender == "male") %&gt;% 
  summarize(BMI_mean_male = mean(BMI, na.rm = TRUE))
## # A tibble: 1 x 1
##   BMI_mean_male
##           &lt;dbl&gt;
## 1          25.2
```
]
---

# Group_by &lt;img src="img/pipe.png" class="title-hex"&gt;&lt;img src="img/dplyr.png" class="title-hex"&gt;
----
Many data analysis tasks can be approached using the *split-apply-combine* paradigm: split the data into groups, apply some analysis to each group, and then combine the results. **`dplyr`** makes this very easy through the use of the `group_by()` function.

`group_by()` is often used together with `summarize()`, which collapses each group into a single-row summary of that group.  `group_by()` takes as arguments the column names that contain the **categorical** variables for which you want to calculate the summary statistics. Groups are *virtual* in the sense *you are not changing the structure of the original data frame, just how R perceives in subsequent operations* until an `ungroup()` is used.
We will do this a lot!

The previous exercise required us to run three different sets of code to get summaries for the three penguin species
`group_by` allows us to do that all at once by grouping the rows where the values in one of the columns, creates the groups e.g., `species` creates three rows, one for each species.

---


count: false
 

.panel1-groupby-auto[

```r
*NHANES::NHANESraw
```
]
 
.panel2-groupby-auto[

```
## # A tibble: 20,293 x 78
##       ID SurveyYr Gender   Age AgeMonths Race1   Race3 Education     MaritalStatus HHIncome  HHIncomeMid Poverty
##    &lt;int&gt; &lt;fct&gt;    &lt;fct&gt;  &lt;int&gt;     &lt;int&gt; &lt;fct&gt;   &lt;fct&gt; &lt;fct&gt;         &lt;fct&gt;         &lt;fct&gt;           &lt;int&gt;   &lt;dbl&gt;
##  1 51624 2009_10  male      34       409 White   &lt;NA&gt;  High School   Married       25000-34~       30000    1.36
##  2 51625 2009_10  male       4        49 Other   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          20000-24~       22500    1.07
##  3 51626 2009_10  male      16       202 Black   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          45000-54~       50000    2.27
##  4 51627 2009_10  male      10       131 Black   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          20000-24~       22500    0.81
##  5 51628 2009_10  female    60       722 Black   &lt;NA&gt;  High School   Widowed       10000-14~       12500    0.69
##  6 51629 2009_10  male      26       313 Mexican &lt;NA&gt;  9 - 11th Gra~ Married       25000-34~       30000    1.01
##  7 51630 2009_10  female    49       596 White   &lt;NA&gt;  Some College  LivePartner   35000-44~       40000    1.91
##  8 51631 2009_10  female     1        12 White   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          35000-44~       40000    1.36
##  9 51632 2009_10  male      10       124 Hispan~ &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          65000-74~       70000    2.68
## 10 51633 2009_10  male      80        NA White   &lt;NA&gt;  Some College  Married       15000-19~       17500    1.27
## # ... with 20,283 more rows, and 66 more variables: HomeRooms &lt;int&gt;, HomeOwn &lt;fct&gt;, Work &lt;fct&gt;, Weight &lt;dbl&gt;,
## #   Length &lt;dbl&gt;, HeadCirc &lt;dbl&gt;, Height &lt;dbl&gt;, BMI &lt;dbl&gt;, BMICatUnder20yrs &lt;fct&gt;, BMI_WHO &lt;fct&gt;, Pulse &lt;int&gt;,
## #   BPSysAve &lt;int&gt;, BPDiaAve &lt;int&gt;, BPSys1 &lt;int&gt;, BPDia1 &lt;int&gt;, BPSys2 &lt;int&gt;, BPDia2 &lt;int&gt;, BPSys3 &lt;int&gt;,
## #   BPDia3 &lt;int&gt;, Testosterone &lt;dbl&gt;, DirectChol &lt;dbl&gt;, TotChol &lt;dbl&gt;, UrineVol1 &lt;int&gt;, UrineFlow1 &lt;dbl&gt;,
## #   UrineVol2 &lt;int&gt;, UrineFlow2 &lt;dbl&gt;, Diabetes &lt;fct&gt;, DiabetesAge &lt;int&gt;, HealthGen &lt;fct&gt;,
## #   DaysPhysHlthBad &lt;int&gt;, DaysMentHlthBad &lt;int&gt;, LittleInterest &lt;fct&gt;, Depressed &lt;fct&gt;, nPregnancies &lt;int&gt;,
## #   nBabies &lt;int&gt;, Age1stBaby &lt;int&gt;, SleepHrsNight &lt;int&gt;, SleepTrouble &lt;fct&gt;, PhysActive &lt;fct&gt;,
## #   PhysActiveDays &lt;int&gt;, TVHrsDay &lt;fct&gt;, CompHrsDay &lt;fct&gt;, TVHrsDayChild &lt;int&gt;, CompHrsDayChild &lt;int&gt;,
## #   Alcohol12PlusYr &lt;fct&gt;, AlcoholDay &lt;int&gt;, AlcoholYear &lt;int&gt;, SmokeNow &lt;fct&gt;, Smoke100 &lt;fct&gt;, SmokeAge &lt;int&gt;,
## #   Marijuana &lt;fct&gt;, AgeFirstMarij &lt;int&gt;, RegularMarij &lt;fct&gt;, AgeRegMarij &lt;int&gt;, HardDrugs &lt;fct&gt;,
## #   SexEver &lt;fct&gt;, SexAge &lt;int&gt;, SexNumPartnLife &lt;int&gt;, SexNumPartYear &lt;int&gt;, SameSex &lt;fct&gt;,
## #   SexOrientation &lt;fct&gt;, WTINT2YR &lt;dbl&gt;, WTMEC2YR &lt;dbl&gt;, SDMVPSU &lt;int&gt;, SDMVSTRA &lt;int&gt;, PregnantNow &lt;fct&gt;
```
]

---
count: false
 

.panel1-groupby-auto[

```r
NHANES::NHANESraw %&gt;%
* group_by(Gender)
```
]
 
.panel2-groupby-auto[

```
## # A tibble: 20,293 x 78
## # Groups:   Gender [2]
##       ID SurveyYr Gender   Age AgeMonths Race1   Race3 Education     MaritalStatus HHIncome  HHIncomeMid Poverty
##    &lt;int&gt; &lt;fct&gt;    &lt;fct&gt;  &lt;int&gt;     &lt;int&gt; &lt;fct&gt;   &lt;fct&gt; &lt;fct&gt;         &lt;fct&gt;         &lt;fct&gt;           &lt;int&gt;   &lt;dbl&gt;
##  1 51624 2009_10  male      34       409 White   &lt;NA&gt;  High School   Married       25000-34~       30000    1.36
##  2 51625 2009_10  male       4        49 Other   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          20000-24~       22500    1.07
##  3 51626 2009_10  male      16       202 Black   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          45000-54~       50000    2.27
##  4 51627 2009_10  male      10       131 Black   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          20000-24~       22500    0.81
##  5 51628 2009_10  female    60       722 Black   &lt;NA&gt;  High School   Widowed       10000-14~       12500    0.69
##  6 51629 2009_10  male      26       313 Mexican &lt;NA&gt;  9 - 11th Gra~ Married       25000-34~       30000    1.01
##  7 51630 2009_10  female    49       596 White   &lt;NA&gt;  Some College  LivePartner   35000-44~       40000    1.91
##  8 51631 2009_10  female     1        12 White   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          35000-44~       40000    1.36
##  9 51632 2009_10  male      10       124 Hispan~ &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          65000-74~       70000    2.68
## 10 51633 2009_10  male      80        NA White   &lt;NA&gt;  Some College  Married       15000-19~       17500    1.27
## # ... with 20,283 more rows, and 66 more variables: HomeRooms &lt;int&gt;, HomeOwn &lt;fct&gt;, Work &lt;fct&gt;, Weight &lt;dbl&gt;,
## #   Length &lt;dbl&gt;, HeadCirc &lt;dbl&gt;, Height &lt;dbl&gt;, BMI &lt;dbl&gt;, BMICatUnder20yrs &lt;fct&gt;, BMI_WHO &lt;fct&gt;, Pulse &lt;int&gt;,
## #   BPSysAve &lt;int&gt;, BPDiaAve &lt;int&gt;, BPSys1 &lt;int&gt;, BPDia1 &lt;int&gt;, BPSys2 &lt;int&gt;, BPDia2 &lt;int&gt;, BPSys3 &lt;int&gt;,
## #   BPDia3 &lt;int&gt;, Testosterone &lt;dbl&gt;, DirectChol &lt;dbl&gt;, TotChol &lt;dbl&gt;, UrineVol1 &lt;int&gt;, UrineFlow1 &lt;dbl&gt;,
## #   UrineVol2 &lt;int&gt;, UrineFlow2 &lt;dbl&gt;, Diabetes &lt;fct&gt;, DiabetesAge &lt;int&gt;, HealthGen &lt;fct&gt;,
## #   DaysPhysHlthBad &lt;int&gt;, DaysMentHlthBad &lt;int&gt;, LittleInterest &lt;fct&gt;, Depressed &lt;fct&gt;, nPregnancies &lt;int&gt;,
## #   nBabies &lt;int&gt;, Age1stBaby &lt;int&gt;, SleepHrsNight &lt;int&gt;, SleepTrouble &lt;fct&gt;, PhysActive &lt;fct&gt;,
## #   PhysActiveDays &lt;int&gt;, TVHrsDay &lt;fct&gt;, CompHrsDay &lt;fct&gt;, TVHrsDayChild &lt;int&gt;, CompHrsDayChild &lt;int&gt;,
## #   Alcohol12PlusYr &lt;fct&gt;, AlcoholDay &lt;int&gt;, AlcoholYear &lt;int&gt;, SmokeNow &lt;fct&gt;, Smoke100 &lt;fct&gt;, SmokeAge &lt;int&gt;,
## #   Marijuana &lt;fct&gt;, AgeFirstMarij &lt;int&gt;, RegularMarij &lt;fct&gt;, AgeRegMarij &lt;int&gt;, HardDrugs &lt;fct&gt;,
## #   SexEver &lt;fct&gt;, SexAge &lt;int&gt;, SexNumPartnLife &lt;int&gt;, SexNumPartYear &lt;int&gt;, SameSex &lt;fct&gt;,
## #   SexOrientation &lt;fct&gt;, WTINT2YR &lt;dbl&gt;, WTMEC2YR &lt;dbl&gt;, SDMVPSU &lt;int&gt;, SDMVSTRA &lt;int&gt;, PregnantNow &lt;fct&gt;
```
]

---
count: false
 

.panel1-groupby-auto[

```r
NHANES::NHANESraw %&gt;%
  group_by(Gender) %&gt;%
* summarize(BMI_mean = mean(BMI, na.rm = TRUE),
*           count = n())
```
]
 
.panel2-groupby-auto[

```
## # A tibble: 2 x 3
##   Gender BMI_mean count
##   &lt;fct&gt;     &lt;dbl&gt; &lt;int&gt;
## 1 female     26.1 10212
## 2 male       25.2 10081
```
]

&lt;style&gt;
.panel1-groupby-auto {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-groupby-auto {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-groupby-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;



---

# count &lt;img src="img/pipe.png" class="title-hex"&gt;&lt;img src="img/dplyr.png" class="title-hex"&gt;
----
.panelset[

.panel[.panel-name[Description]

The dplyr::count() function wraps a bunch of things into one beautiful friendly line of code to help you find counts of observations by group. To demonstrate what it does, let’s find the counts of genders and race groups in the NHANES dataset in two different ways:
] &lt;!-- end panel--&gt;

.panel[.panel-name[Summarize]

```r
NHANES::NHANESraw %&gt;% 
  group_by(Gender, Race1) %&gt;% 
  summarize(n = n()) 
```
]&lt;!-- end pull-left --&gt;

.pull-right[

```
## `summarise()` has grouped output by 'Gender'. You can override using the `.groups` argument.
```

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Gender &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Race1 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; n &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; female &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Black &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2357 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; female &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Hispanic &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1145 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; female &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Mexican &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1851 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; female &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; White &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3683 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; female &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Other &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1176 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; male &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Black &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2283 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; male &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Hispanic &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1064 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; male &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Mexican &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1888 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; male &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; White &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3710 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; male &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Other &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1136 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
] &lt;!-- end pull-right --&gt;
]&lt;!-- end panel--&gt;
.panel[.panel-name[Count]
.pull-left[

```r
NHANES::NHANESraw %&gt;% 
  count(Gender, Race1) 
```
]&lt;!-- end pull-left --&gt;
.pull-right[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Gender &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Race1 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; n &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; female &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Black &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2357 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; female &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Hispanic &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1145 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; female &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Mexican &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1851 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; female &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; White &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3683 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; female &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Other &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1176 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; male &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Black &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2283 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; male &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Hispanic &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1064 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; male &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Mexican &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1888 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; male &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; White &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3710 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; male &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Other &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1136 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
] &lt;!-- end pull-right --&gt;
] &lt;!-- end panel--&gt;

] &lt;!-- end panelset--&gt;

---

template: live-coding
---
name: your-turn
background-color: var(--my-red)
class: inverse

.left-column[
## Your turn&lt;br&gt;&lt;svg viewBox="0 0 576 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;br&gt;
]

.right-column[
### Let's experiment with aggregation
----

- Find the number of participants in the study for each education level
- In a separate pipeline, find the minimum, median, and maximum combined diastolic blood pressure reading (`BPDiaAve`) across all participants.
- In a separate pipeline, find the average `PhysActiveDays` and `SleepHrsNight` for people who have diabetes and people who don't. 
- In a final pipeline, find the minimum and maximum `PhysActiveDays` for different `Race1`.
]

<div class="countdown blink-colon noupdate-15" id="timer_60ad9449" style="bottom:0;left:0;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">07</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

---

template: question

&lt;svg viewBox="0 0 640 512" style="position:relative;display:inline-block;top:.1em;height:3em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M256.47 216.77l86.73 109.18s-16.6 102.36-76.57 150.12C206.66 523.85 0 510.19 0 510.19s3.8-23.14 11-55.43l94.62-112.17c3.97-4.7-.87-11.62-6.65-9.5l-60.4 22.09c14.44-41.66 32.72-80.04 54.6-97.47 59.97-47.76 163.3-40.94 163.3-40.94zM636.53 31.03l-19.86-25c-5.49-6.9-15.52-8.05-22.41-2.56l-232.48 177.8-34.14-42.97c-5.09-6.41-15.14-5.21-18.59 2.21l-25.33 54.55 86.73 109.18 58.8-12.45c8-1.69 11.42-11.2 6.34-17.6l-34.09-42.92 232.48-177.8c6.89-5.48 8.04-15.53 2.55-22.44z"&gt;&lt;/path&gt;&lt;/svg&gt;
# Part Two: Tidy Data

---

# What is tidy data &lt;img src="img/tidyr.png" class="title-hex"&gt;
- Data sets are often described in terms of three elements: units, variables and observations:
  + Units: the items described by the data. 
    - They may be Observational or Experimental. 
    - They may be referred to as  units, subjects, individuals, or cases or other terms. 
    - They represent a population or a sample from a population, e.g., cars, people, or countries.
    - They are not the "units of measurement" but the items being measured.
    - They may be represented by variable, e.g., name, a combination of variables, e.g., country and year, or be implied and not explicitly represented by any variable (most common in summarized data), e.g., average scores for a group
  + Variable: a characteristic or attribute of each unit about which we have data, e.g., mpg, age, or GDP.
  + Observations: The single value for each variable for a given unit, e.g., 20 mpg, 31 years old, or \$20,513,000 US.

---
# Definition of Tidy Data &lt;img src="img/tidyr.png" class="title-hex"&gt;

- We define tidy data very simply: It is a rectangular data set (the same number of rows for each column) where the data is shaped to have:  
1.  **One unit per row.** 
2.  **One variable per column.**
3.  **One observation (or value) per cell (the intersection of each row and column).**

![](https://american-stat-412612.netlify.app/img/tidy-1.png)

---

# Is this tidy? #1 &lt;img src="img/tidyr.png" class="title-hex"&gt;
.pull-left[

1.  **One unit per row.** 
2.  **One variable per column.**
3.  **One observation (or value) per cell (the intersection of each row and column).**

]
.pull-right[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; country &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; year &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; type &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; count &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Afghanistan &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1999 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; cases &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 745 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Afghanistan &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1999 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; population &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 19987071 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Afghanistan &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2000 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; cases &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2666 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Afghanistan &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2000 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; population &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20595360 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Brazil &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1999 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; cases &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 37737 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Brazil &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1999 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; population &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 172006362 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Brazil &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2000 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; cases &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 80488 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Brazil &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2000 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; population &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 174504898 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; China &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1999 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; cases &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 212258 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; China &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1999 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; population &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1272915272 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; China &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2000 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; cases &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 213766 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; China &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2000 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; population &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1280428583 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]
-- 
No, violates rule #2 - Cases and population should be different columns because they are different concepts. 

---

# Is this tidy? #2 &lt;img src="img/tidyr.png" class="title-hex"&gt;
.pull-left[

1.  **One unit per row.** 
2.  **One variable per column.**
3.  **One observation (or value) per cell (the intersection of each row and column).**

]
.pull-right[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; country &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; year &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; rate &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Afghanistan &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1999 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 745/19987071 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Afghanistan &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2000 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2666/20595360 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Brazil &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1999 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 37737/172006362 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Brazil &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2000 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 80488/174504898 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; China &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1999 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 212258/1272915272 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; China &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2000 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 213766/1280428583 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]
--
No, violates rule #3 - holds two variables in each cell. 

---

# Is this tidy? #3 &lt;img src="img/tidyr.png" class="title-hex"&gt;
.pull-left[

1.  **One unit per row.** 
2.  **One variable per column.**
3.  **One observation (or value) per cell (the intersection of each row and column).**

]
.pull-right[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; country &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; 1999 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; 2000 &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Afghanistan &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 745 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2666 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Brazil &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 37737 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 80488 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; China &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 212258 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 213766 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; country &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; 1999 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; 2000 &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Afghanistan &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 19987071 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20595360 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Brazil &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 172006362 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 174504898 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; China &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1272915272 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1280428583 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]
--
No, violates all rules - has each observation across two columns and each variable is its own table. 
---
# Is this tidy? #4 &lt;img src="img/tidyr.png" class="title-hex"&gt;
.pull-left[

1.  **One unit per row.** 
2.  **One variable per column.**
3.  **One observation (or value) per cell (the intersection of each row and column).**

]
.pull-right[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; country &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; year &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; cases &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; population &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Afghanistan &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1999 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 745 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 19987071 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Afghanistan &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2000 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2666 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20595360 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Brazil &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1999 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 37737 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 172006362 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Brazil &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2000 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 80488 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 174504898 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; China &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1999 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 212258 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1272915272 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; China &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2000 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 213766 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1280428583 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]
--
Yes! Finally! 🎉

---

# pivot_longer &lt;img src="img/tidyr.png" class="title-hex"&gt;
Problem: One Attribute (implied variable) Appears In Multiple Columns.

- The first argument is the dataset to reshape (which you can pipe in)
- The second argument `cols = ` describes which columns need to be reshaped. 
  + You can use any of the tidyselect tidy helper functions, e.g., `starts_with()` or `num_range()` 
  + See "select" in help.
- The `names_to = ` is the name of the variable you want to create to hold *the column names*.
- The `values_to = `is the name of the variable you want to create to hold *the cell values*.


```r
data %&gt;% 
  pivot_longer(cols = c(""), 
               names_to = "new name column", 
               values_to = "new values column")
```

---


count: false
 

.panel1-longer-1-auto[

```r
*table4a
```
]
 
.panel2-longer-1-auto[

```
## # A tibble: 3 x 3
##   country     `1999` `2000`
## * &lt;chr&gt;        &lt;int&gt;  &lt;int&gt;
## 1 Afghanistan    745   2666
## 2 Brazil       37737  80488
## 3 China       212258 213766
```
]

---
count: false
 

.panel1-longer-1-auto[

```r
table4a %&gt;%
* pivot_longer(cols = c(`1999`, `2000`),
*              names_to = "Year",
*              values_to = "Cases" )
```
]
 
.panel2-longer-1-auto[

```
## # A tibble: 6 x 3
##   country     Year   Cases
##   &lt;chr&gt;       &lt;chr&gt;  &lt;int&gt;
## 1 Afghanistan 1999     745
## 2 Afghanistan 2000    2666
## 3 Brazil      1999   37737
## 4 Brazil      2000   80488
## 5 China       1999  212258
## 6 China       2000  213766
```
]

&lt;style&gt;
.panel1-longer-1-auto {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-longer-1-auto {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-longer-1-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;



---
name: your-turn
background-color: var(--my-red)
class: inverse

.left-column[
## Your turn&lt;br&gt;&lt;svg viewBox="0 0 576 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;br&gt;
]

.right-column[
### Let's experiment with pivot_longer
----

- read the csv from [http://bit.ly/monkey-mem](http://bit.ly/monkey-mem)

```r
monkeys &lt;- read_csv("http://bit.ly/monkey-mem")
head(monkeys)
```
- make it tidy &lt;svg viewBox="0 0 640 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M256.47 216.77l86.73 109.18s-16.6 102.36-76.57 150.12C206.66 523.85 0 510.19 0 510.19s3.8-23.14 11-55.43l94.62-112.17c3.97-4.7-.87-11.62-6.65-9.5l-60.4 22.09c14.44-41.66 32.72-80.04 54.6-97.47 59.97-47.76 163.3-40.94 163.3-40.94zM636.53 31.03l-19.86-25c-5.49-6.9-15.52-8.05-22.41-2.56l-232.48 177.8-34.14-42.97c-5.09-6.41-15.14-5.21-18.59 2.21l-25.33 54.55 86.73 109.18 58.8-12.45c8-1.69 11.42-11.2 6.34-17.6l-34.09-42.92 232.48-177.8c6.89-5.48 8.04-15.53 2.55-22.44z"&gt;&lt;/path&gt;&lt;/svg&gt;


- Why does this code fail?

```r
tidyr::table4a %&gt;% 
  pivot_longer(cols = 1999, 2000, 
               names_to = "year", 
               values_to = "cases")
```
 
]

<div class="countdown blink-colon noupdate-15" id="timer_60ad9299" style="bottom:0;left:0;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">04</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

---


count: false
 

.panel1-longer-exercise-1-auto[

```r
*monkeys &lt;- read_csv("http://bit.ly/monkey-mem", col_types = cols())
```
]
 
.panel2-longer-exercise-1-auto[

]

---
count: false
 

.panel1-longer-exercise-1-auto[

```r
monkeys &lt;- read_csv("http://bit.ly/monkey-mem", col_types = cols())
*monkeys
```
]
 
.panel2-longer-exercise-1-auto[

```
## # A tibble: 18 x 7
##    Monkey    Treatment Week2 Week4 Week8 Week12 Week16
##    &lt;chr&gt;     &lt;chr&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
##  1 Spank     Control      95    75    80     65     70
##  2 Chim      Control      85    75    55     75     85
##  3 Chak      Control      75    95    60     40     45
##  4 Alf       Control      85    80    70     45     80
##  5 Poet      Control      65    80    75     65     65
##  6 Jessie    Control      70    90    85     75     75
##  7 Phil      Control      75    80    70     70     70
##  8 Irv       Treated      75    50    70     75     75
##  9 Edy       Treated      85    85    60     70     70
## 10 Allen     Treated      60    70    70     75     70
## 11 Poe       Treated      60    65    70     70     60
## 12 Joey      Treated      65    60    80     70     60
## 13 Just      Treated      55    70    60     65     75
## 14 Junior    Treated      60    55    75     70     50
## 15 Andy      Treated      55    65    45     70     65
## 16 Sport     Treated      60    70    70     85     70
## 17 Cornelius Treated      45    60    65     65     70
## 18 Duncan    Treated      65    55    55     80     75
```
]

---
count: false
 

.panel1-longer-exercise-1-auto[

```r
monkeys &lt;- read_csv("http://bit.ly/monkey-mem", col_types = cols())
monkeys %&gt;%
* pivot_longer(cols = Week2:Week16,
*              names_prefix = "Week",
*              names_to = "Week",
*              values_to = "Percent" )
```
]
 
.panel2-longer-exercise-1-auto[

```
## # A tibble: 90 x 4
##    Monkey Treatment Week  Percent
##    &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;   &lt;dbl&gt;
##  1 Spank  Control   2          95
##  2 Spank  Control   4          75
##  3 Spank  Control   8          80
##  4 Spank  Control   12         65
##  5 Spank  Control   16         70
##  6 Chim   Control   2          85
##  7 Chim   Control   4          75
##  8 Chim   Control   8          55
##  9 Chim   Control   12         75
## 10 Chim   Control   16         85
## # ... with 80 more rows
```
]

&lt;style&gt;
.panel1-longer-exercise-1-auto {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-longer-exercise-1-auto {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-longer-exercise-1-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;





---
How can we solve this?

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; country &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; iso2 &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; iso3 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; year &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_sp_m014 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_sp_m1524 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_sp_m2534 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_sp_m3544 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_sp_m4554 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_sp_m5564 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_sp_m65 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_sp_f014 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_sp_f1524 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_sp_f2534 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_sp_f3544 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_sp_f4554 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_sp_f5564 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_sp_f65 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_sn_m014 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_sn_m1524 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_sn_m2534 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_sn_m3544 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_sn_m4554 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_sn_m5564 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_sn_m65 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_sn_f014 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_sn_f1524 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_sn_f2534 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_sn_f3544 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_sn_f4554 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_sn_f5564 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_sn_f65 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_ep_m014 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_ep_m1524 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_ep_m2534 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_ep_m3544 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_ep_m4554 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_ep_m5564 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_ep_m65 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_ep_f014 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_ep_f1524 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_ep_f2534 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_ep_f3544 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_ep_f4554 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_ep_f5564 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; new_ep_f65 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; newrel_m014 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; newrel_m1524 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; newrel_m2534 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; newrel_m3544 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; newrel_m4554 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; newrel_m5564 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; newrel_m65 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; newrel_f014 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; newrel_f1524 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; newrel_f2534 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; newrel_f3544 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; newrel_f4554 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; newrel_f5564 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; newrel_f65 &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Afghanistan &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; AF &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; AFG &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1980 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Afghanistan &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; AF &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; AFG &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1981 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Afghanistan &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; AF &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; AFG &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1982 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Afghanistan &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; AF &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; AFG &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1983 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Afghanistan &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; AF &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; AFG &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1984 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Afghanistan &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; AF &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; AFG &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1985 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

The data uses the original codes given by the World Health Organization. 
The column names for columns five through 60 are made by combining new_ 
- to a code for .my-coral[method of diagnosis] (rel = relapse, sn = negative pulmonary smear, sp = positive pulmonary smear, ep = extrapulmonary) 
- to a code for .my-coral[gender] (f = female, m = male) 
- to a code for .my-coral[age group] (014 = 0-14 yrs of age, 1524 = 15-24 years of age, 2534 = 25 to 34 years of age, etc).

---
template: live-coding

---


count: false
 

.panel1-advanced-longer-auto[

```r
*who
```
]
 
.panel2-advanced-longer-auto[

```
## # A tibble: 7,240 x 60
##    country     iso2  iso3   year new_sp_m014 new_sp_m1524 new_sp_m2534 new_sp_m3544 new_sp_m4554 new_sp_m5564
##    &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt; &lt;int&gt;       &lt;int&gt;        &lt;int&gt;        &lt;int&gt;        &lt;int&gt;        &lt;int&gt;        &lt;int&gt;
##  1 Afghanistan AF    AFG    1980          NA           NA           NA           NA           NA           NA
##  2 Afghanistan AF    AFG    1981          NA           NA           NA           NA           NA           NA
##  3 Afghanistan AF    AFG    1982          NA           NA           NA           NA           NA           NA
##  4 Afghanistan AF    AFG    1983          NA           NA           NA           NA           NA           NA
##  5 Afghanistan AF    AFG    1984          NA           NA           NA           NA           NA           NA
##  6 Afghanistan AF    AFG    1985          NA           NA           NA           NA           NA           NA
##  7 Afghanistan AF    AFG    1986          NA           NA           NA           NA           NA           NA
##  8 Afghanistan AF    AFG    1987          NA           NA           NA           NA           NA           NA
##  9 Afghanistan AF    AFG    1988          NA           NA           NA           NA           NA           NA
## 10 Afghanistan AF    AFG    1989          NA           NA           NA           NA           NA           NA
## # ... with 7,230 more rows, and 50 more variables: new_sp_m65 &lt;int&gt;, new_sp_f014 &lt;int&gt;, new_sp_f1524 &lt;int&gt;,
## #   new_sp_f2534 &lt;int&gt;, new_sp_f3544 &lt;int&gt;, new_sp_f4554 &lt;int&gt;, new_sp_f5564 &lt;int&gt;, new_sp_f65 &lt;int&gt;,
## #   new_sn_m014 &lt;int&gt;, new_sn_m1524 &lt;int&gt;, new_sn_m2534 &lt;int&gt;, new_sn_m3544 &lt;int&gt;, new_sn_m4554 &lt;int&gt;,
## #   new_sn_m5564 &lt;int&gt;, new_sn_m65 &lt;int&gt;, new_sn_f014 &lt;int&gt;, new_sn_f1524 &lt;int&gt;, new_sn_f2534 &lt;int&gt;,
## #   new_sn_f3544 &lt;int&gt;, new_sn_f4554 &lt;int&gt;, new_sn_f5564 &lt;int&gt;, new_sn_f65 &lt;int&gt;, new_ep_m014 &lt;int&gt;,
## #   new_ep_m1524 &lt;int&gt;, new_ep_m2534 &lt;int&gt;, new_ep_m3544 &lt;int&gt;, new_ep_m4554 &lt;int&gt;, new_ep_m5564 &lt;int&gt;,
## #   new_ep_m65 &lt;int&gt;, new_ep_f014 &lt;int&gt;, new_ep_f1524 &lt;int&gt;, new_ep_f2534 &lt;int&gt;, new_ep_f3544 &lt;int&gt;,
## #   new_ep_f4554 &lt;int&gt;, new_ep_f5564 &lt;int&gt;, new_ep_f65 &lt;int&gt;, newrel_m014 &lt;int&gt;, newrel_m1524 &lt;int&gt;,
## #   newrel_m2534 &lt;int&gt;, newrel_m3544 &lt;int&gt;, newrel_m4554 &lt;int&gt;, newrel_m5564 &lt;int&gt;, newrel_m65 &lt;int&gt;,
## #   newrel_f014 &lt;int&gt;, newrel_f1524 &lt;int&gt;, newrel_f2534 &lt;int&gt;, newrel_f3544 &lt;int&gt;, newrel_f4554 &lt;int&gt;,
## #   newrel_f5564 &lt;int&gt;, newrel_f65 &lt;int&gt;
```
]

---
count: false
 

.panel1-advanced-longer-auto[

```r
who %&gt;%
* pivot_longer(
* cols = new_sp_m014:newrel_f65,
* names_to = c("diagnosis", "gender", "age"),
* names_pattern = "new_?(.*)_(.)(.*)",
* values_to = "count")
```
]
 
.panel2-advanced-longer-auto[

```
## # A tibble: 405,440 x 8
##    country     iso2  iso3   year diagnosis gender age   count
##    &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt; &lt;int&gt;
##  1 Afghanistan AF    AFG    1980 sp        m      014      NA
##  2 Afghanistan AF    AFG    1980 sp        m      1524     NA
##  3 Afghanistan AF    AFG    1980 sp        m      2534     NA
##  4 Afghanistan AF    AFG    1980 sp        m      3544     NA
##  5 Afghanistan AF    AFG    1980 sp        m      4554     NA
##  6 Afghanistan AF    AFG    1980 sp        m      5564     NA
##  7 Afghanistan AF    AFG    1980 sp        m      65       NA
##  8 Afghanistan AF    AFG    1980 sp        f      014      NA
##  9 Afghanistan AF    AFG    1980 sp        f      1524     NA
## 10 Afghanistan AF    AFG    1980 sp        f      2534     NA
## # ... with 405,430 more rows
```
]

&lt;style&gt;
.panel1-advanced-longer-auto {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-advanced-longer-auto {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-advanced-longer-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;




---
# pivot_wider &lt;img src="img/tidyr.png" class="title-hex"&gt;

Problem: One Observation's Attributes Appear in Multiple rows.
- One column contains variable names. 
- One column contains values for the different attributes i.e., implied variables.
- This can be more challenging to tidy as you have multiple variables to address


```r
data %&gt;% 
  pivot_wider(id_cols = c(IDs),
              names_from = "original names", 
              values_from = "original values")
```


---
# pivot_wider &lt;img src="img/tidyr.png" class="title-hex"&gt;

![](https://american-stat-412612.netlify.app/img/tidy-8.png)

---
name: your-turn
background-color: var(--my-red)
class: inverse

.left-column[
## Your turn&lt;br&gt;&lt;svg viewBox="0 0 576 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;br&gt;
]

.right-column[
### Let's experiment with pivot_wider
----

- read the csv from [http://bit.ly/tidy_flowers](http://bit.ly/tidy_flowers)

```r
flowers &lt;- read_csv2("http://bit.ly/tidy_flowers")
slice(flowers,20:28)
flowers %&gt;% 
  pivot_wider(id_cols = ___,
              names_from = _______, 
              values_from = ______)
```
- make it tidy &lt;svg viewBox="0 0 640 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M256.47 216.77l86.73 109.18s-16.6 102.36-76.57 150.12C206.66 523.85 0 510.19 0 510.19s3.8-23.14 11-55.43l94.62-112.17c3.97-4.7-.87-11.62-6.65-9.5l-60.4 22.09c14.44-41.66 32.72-80.04 54.6-97.47 59.97-47.76 163.3-40.94 163.3-40.94zM636.53 31.03l-19.86-25c-5.49-6.9-15.52-8.05-22.41-2.56l-232.48 177.8-34.14-42.97c-5.09-6.41-15.14-5.21-18.59 2.21l-25.33 54.55 86.73 109.18 58.8-12.45c8-1.69 11.42-11.2 6.34-17.6l-34.09-42.92 232.48-177.8c6.89-5.48 8.04-15.53 2.55-22.44z"&gt;&lt;/path&gt;&lt;/svg&gt;


- Find the number of observations for each `Gender` and `Race1` group like we did earlier. Can transform this tidy format into an _untidy_ pivot table? This can be useful for presentations and reports. 

]
<div class="countdown blink-colon noupdate-15" id="timer_60ad9110" style="bottom:0;left:0;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">04</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

---


count: false
 

.panel1-wider-exercise-1-auto[

```r
*flowers &lt;- read_csv2("http://bit.ly/tidy_flowers", col_types = cols())
```
]
 
.panel2-wider-exercise-1-auto[

```
## i Using '\',\'' as decimal and '\'.\'' as grouping mark. Use `read_delim()` for more control.
```
]

---
count: false
 

.panel1-wider-exercise-1-auto[

```r
flowers &lt;- read_csv2("http://bit.ly/tidy_flowers", col_types = cols())
*flowers
```
]
 
.panel2-wider-exercise-1-auto[

```
## i Using '\',\'' as decimal and '\'.\'' as grouping mark. Use `read_delim()` for more control.
## # A tibble: 48 x 4
##     Time replication Variable Value
##    &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt;
##  1     1           1 Flowers   62.3
##  2     1           2 Flowers   77.4
##  3     1           3 Flowers   55.3
##  4     1           4 Flowers   54.2
##  5     1           5 Flowers   49.6
##  6     1           6 Flowers   61.9
##  7     1           7 Flowers   39.4
##  8     1           8 Flowers   45.7
##  9     1           9 Flowers   31.3
## 10     1          10 Flowers   44.9
## # ... with 38 more rows
```
]

---
count: false
 

.panel1-wider-exercise-1-auto[

```r
flowers &lt;- read_csv2("http://bit.ly/tidy_flowers", col_types = cols())
flowers %&gt;%
* pivot_wider(id_cols = c(Time, replication),
*             names_from = "Variable",
*             values_from = "Value")
```
]
 
.panel2-wider-exercise-1-auto[

```
## i Using '\',\'' as decimal and '\'.\'' as grouping mark. Use `read_delim()` for more control.
## # A tibble: 24 x 4
##     Time replication Flowers Intensity
##    &lt;dbl&gt;       &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;
##  1     1           1    62.3       150
##  2     1           2    77.4       150
##  3     1           3    55.3       300
##  4     1           4    54.2       300
##  5     1           5    49.6       450
##  6     1           6    61.9       450
##  7     1           7    39.4       600
##  8     1           8    45.7       600
##  9     1           9    31.3       750
## 10     1          10    44.9       750
## # ... with 14 more rows
```
]

&lt;style&gt;
.panel1-wider-exercise-1-auto {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-wider-exercise-1-auto {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-wider-exercise-1-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;



---


count: false
 

.panel1-wider-exercise-2-auto[

```r
*NHANES::NHANESraw
```
]
 
.panel2-wider-exercise-2-auto[

```
## # A tibble: 20,293 x 78
##       ID SurveyYr Gender   Age AgeMonths Race1   Race3 Education     MaritalStatus HHIncome  HHIncomeMid Poverty
##    &lt;int&gt; &lt;fct&gt;    &lt;fct&gt;  &lt;int&gt;     &lt;int&gt; &lt;fct&gt;   &lt;fct&gt; &lt;fct&gt;         &lt;fct&gt;         &lt;fct&gt;           &lt;int&gt;   &lt;dbl&gt;
##  1 51624 2009_10  male      34       409 White   &lt;NA&gt;  High School   Married       25000-34~       30000    1.36
##  2 51625 2009_10  male       4        49 Other   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          20000-24~       22500    1.07
##  3 51626 2009_10  male      16       202 Black   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          45000-54~       50000    2.27
##  4 51627 2009_10  male      10       131 Black   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          20000-24~       22500    0.81
##  5 51628 2009_10  female    60       722 Black   &lt;NA&gt;  High School   Widowed       10000-14~       12500    0.69
##  6 51629 2009_10  male      26       313 Mexican &lt;NA&gt;  9 - 11th Gra~ Married       25000-34~       30000    1.01
##  7 51630 2009_10  female    49       596 White   &lt;NA&gt;  Some College  LivePartner   35000-44~       40000    1.91
##  8 51631 2009_10  female     1        12 White   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          35000-44~       40000    1.36
##  9 51632 2009_10  male      10       124 Hispan~ &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          65000-74~       70000    2.68
## 10 51633 2009_10  male      80        NA White   &lt;NA&gt;  Some College  Married       15000-19~       17500    1.27
## # ... with 20,283 more rows, and 66 more variables: HomeRooms &lt;int&gt;, HomeOwn &lt;fct&gt;, Work &lt;fct&gt;, Weight &lt;dbl&gt;,
## #   Length &lt;dbl&gt;, HeadCirc &lt;dbl&gt;, Height &lt;dbl&gt;, BMI &lt;dbl&gt;, BMICatUnder20yrs &lt;fct&gt;, BMI_WHO &lt;fct&gt;, Pulse &lt;int&gt;,
## #   BPSysAve &lt;int&gt;, BPDiaAve &lt;int&gt;, BPSys1 &lt;int&gt;, BPDia1 &lt;int&gt;, BPSys2 &lt;int&gt;, BPDia2 &lt;int&gt;, BPSys3 &lt;int&gt;,
## #   BPDia3 &lt;int&gt;, Testosterone &lt;dbl&gt;, DirectChol &lt;dbl&gt;, TotChol &lt;dbl&gt;, UrineVol1 &lt;int&gt;, UrineFlow1 &lt;dbl&gt;,
## #   UrineVol2 &lt;int&gt;, UrineFlow2 &lt;dbl&gt;, Diabetes &lt;fct&gt;, DiabetesAge &lt;int&gt;, HealthGen &lt;fct&gt;,
## #   DaysPhysHlthBad &lt;int&gt;, DaysMentHlthBad &lt;int&gt;, LittleInterest &lt;fct&gt;, Depressed &lt;fct&gt;, nPregnancies &lt;int&gt;,
## #   nBabies &lt;int&gt;, Age1stBaby &lt;int&gt;, SleepHrsNight &lt;int&gt;, SleepTrouble &lt;fct&gt;, PhysActive &lt;fct&gt;,
## #   PhysActiveDays &lt;int&gt;, TVHrsDay &lt;fct&gt;, CompHrsDay &lt;fct&gt;, TVHrsDayChild &lt;int&gt;, CompHrsDayChild &lt;int&gt;,
## #   Alcohol12PlusYr &lt;fct&gt;, AlcoholDay &lt;int&gt;, AlcoholYear &lt;int&gt;, SmokeNow &lt;fct&gt;, Smoke100 &lt;fct&gt;, SmokeAge &lt;int&gt;,
## #   Marijuana &lt;fct&gt;, AgeFirstMarij &lt;int&gt;, RegularMarij &lt;fct&gt;, AgeRegMarij &lt;int&gt;, HardDrugs &lt;fct&gt;,
## #   SexEver &lt;fct&gt;, SexAge &lt;int&gt;, SexNumPartnLife &lt;int&gt;, SexNumPartYear &lt;int&gt;, SameSex &lt;fct&gt;,
## #   SexOrientation &lt;fct&gt;, WTINT2YR &lt;dbl&gt;, WTMEC2YR &lt;dbl&gt;, SDMVPSU &lt;int&gt;, SDMVSTRA &lt;int&gt;, PregnantNow &lt;fct&gt;
```
]

---
count: false
 

.panel1-wider-exercise-2-auto[

```r
NHANES::NHANESraw %&gt;%
* count(Gender, Race1)
```
]
 
.panel2-wider-exercise-2-auto[

```
## # A tibble: 10 x 3
##    Gender Race1        n
##    &lt;fct&gt;  &lt;fct&gt;    &lt;int&gt;
##  1 female Black     2357
##  2 female Hispanic  1145
##  3 female Mexican   1851
##  4 female White     3683
##  5 female Other     1176
##  6 male   Black     2283
##  7 male   Hispanic  1064
##  8 male   Mexican   1888
##  9 male   White     3710
## 10 male   Other     1136
```
]

---
count: false
 

.panel1-wider-exercise-2-auto[

```r
NHANES::NHANESraw %&gt;%
  count(Gender, Race1) %&gt;%
* pivot_wider(id_cols = Gender,
*             names_from = "Race1",
*             values_from = "n")
```
]
 
.panel2-wider-exercise-2-auto[

```
## # A tibble: 2 x 6
##   Gender Black Hispanic Mexican White Other
##   &lt;fct&gt;  &lt;int&gt;    &lt;int&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;
## 1 female  2357     1145    1851  3683  1176
## 2 male    2283     1064    1888  3710  1136
```
]

&lt;style&gt;
.panel1-wider-exercise-2-auto {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-wider-exercise-2-auto {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-wider-exercise-2-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;



---

# separate &lt;img src="img/tidyr.png" class="title-hex"&gt;

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; country &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; year &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; rate &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Afghanistan &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1999 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 745/19987071 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Afghanistan &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2000 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2666/20595360 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Brazil &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1999 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 37737/172006362 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Brazil &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2000 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 80488/174504898 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; China &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1999 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 212258/1272915272 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; China &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2000 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 213766/1280428583 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---

# separate &lt;img src="img/tidyr.png" class="title-hex"&gt;

You need to specify at least three arguments:  

1. The column you want to separate that has two (or more) variables,
2. The character vector of the names of the new variables, and
3. The character or numeric positions by which to separate out the new variables from the current column.


```r
data %&gt;% 
  separate(col = "original var",
           into = c("new", "names"),
           sep = "/")
```

---



count: false
 

.panel1-separate-3-auto[

```r
*tidyr::table3
```
]
 
.panel2-separate-3-auto[

```
## # A tibble: 6 x 3
##   country      year rate             
## * &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;            
## 1 Afghanistan  1999 745/19987071     
## 2 Afghanistan  2000 2666/20595360    
## 3 Brazil       1999 37737/172006362  
## 4 Brazil       2000 80488/174504898  
## 5 China        1999 212258/1272915272
## 6 China        2000 213766/1280428583
```
]

---
count: false
 

.panel1-separate-3-auto[

```r
tidyr::table3 %&gt;%
* separate(col = rate,
*          into = c("cases", "population"),
*          sep = "/")
```
]
 
.panel2-separate-3-auto[

```
## # A tibble: 6 x 4
##   country      year cases  population
##   &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;  &lt;chr&gt;     
## 1 Afghanistan  1999 745    19987071  
## 2 Afghanistan  2000 2666   20595360  
## 3 Brazil       1999 37737  172006362 
## 4 Brazil       2000 80488  174504898 
## 5 China        1999 212258 1272915272
## 6 China        2000 213766 1280428583
```
]

&lt;style&gt;
.panel1-separate-3-auto {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-separate-3-auto {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-separate-3-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;



---
name: your-turn
background-color: var(--my-red)
class: inverse

.left-column[
## Your turn&lt;br&gt;&lt;svg viewBox="0 0 576 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;br&gt;
]

.right-column[
### Let's experiment with separate
----

- read the csv from [http://bit.ly/separate_flowers](http://bit.ly/separate_flowers)

```r
flowers2 &lt;- read_csv2("http://bit.ly/separate_flowers")
slice(flowers2,20:28)
flowers %&gt;% 
  separate(col = ______,
           into = _____,
           sep = ____)
```
- make it tidy &lt;svg viewBox="0 0 640 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M256.47 216.77l86.73 109.18s-16.6 102.36-76.57 150.12C206.66 523.85 0 510.19 0 510.19s3.8-23.14 11-55.43l94.62-112.17c3.97-4.7-.87-11.62-6.65-9.5l-60.4 22.09c14.44-41.66 32.72-80.04 54.6-97.47 59.97-47.76 163.3-40.94 163.3-40.94zM636.53 31.03l-19.86-25c-5.49-6.9-15.52-8.05-22.41-2.56l-232.48 177.8-34.14-42.97c-5.09-6.41-15.14-5.21-18.59 2.21l-25.33 54.55 86.73 109.18 58.8-12.45c8-1.69 11.42-11.2 6.34-17.6l-34.09-42.92 232.48-177.8c6.89-5.48 8.04-15.53 2.55-22.44z"&gt;&lt;/path&gt;&lt;/svg&gt;


- Take a look at the `NHANESraw` variable `HHIncome`. Can you use separate to make a lower income and upper income bracket? 

]
<div class="countdown blink-colon noupdate-15" id="timer_60ad9115" style="bottom:0;left:0;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">04</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
---


count: false
 

.panel1-separate-exercise-1-auto[

```r
*flowers &lt;- read_csv2("http://bit.ly/separate_flowers", col_types = cols())
```
]
 
.panel2-separate-exercise-1-auto[

```
## i Using '\',\'' as decimal and '\'.\'' as grouping mark. Use `read_delim()` for more control.
```
]

---
count: false
 

.panel1-separate-exercise-1-auto[

```r
flowers &lt;- read_csv2("http://bit.ly/separate_flowers", col_types = cols())
*flowers
```
]
 
.panel2-separate-exercise-1-auto[

```
## i Using '\',\'' as decimal and '\'.\'' as grouping mark. Use `read_delim()` for more control.
## # A tibble: 24 x 2
##    `Flowers/Intensity`  Time
##    &lt;chr&gt;               &lt;dbl&gt;
##  1 62.3/150                1
##  2 77.4/150                1
##  3 55.3/300                1
##  4 54.2/300                1
##  5 49.6/450                1
##  6 61.9/450                1
##  7 39.4/600                1
##  8 45.7/600                1
##  9 31.3/750                1
## 10 44.9/750                1
## # ... with 14 more rows
```
]

---
count: false
 

.panel1-separate-exercise-1-auto[

```r
flowers &lt;- read_csv2("http://bit.ly/separate_flowers", col_types = cols())
flowers %&gt;%
* separate(col = `Flowers/Intensity`,
*          into = c("Flowers", "Intensity"),
*          sep = "/")
```
]
 
.panel2-separate-exercise-1-auto[

```
## i Using '\',\'' as decimal and '\'.\'' as grouping mark. Use `read_delim()` for more control.
## # A tibble: 24 x 3
##    Flowers Intensity  Time
##    &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt;
##  1 62.3    150           1
##  2 77.4    150           1
##  3 55.3    300           1
##  4 54.2    300           1
##  5 49.6    450           1
##  6 61.9    450           1
##  7 39.4    600           1
##  8 45.7    600           1
##  9 31.3    750           1
## 10 44.9    750           1
## # ... with 14 more rows
```
]

&lt;style&gt;
.panel1-separate-exercise-1-auto {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-separate-exercise-1-auto {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-separate-exercise-1-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;



---


count: false
 

.panel1-separate-exercise-2-auto[

```r
*NHANES::NHANESraw
```
]
 
.panel2-separate-exercise-2-auto[

```
## # A tibble: 20,293 x 78
##       ID SurveyYr Gender   Age AgeMonths Race1   Race3 Education     MaritalStatus HHIncome  HHIncomeMid Poverty
##    &lt;int&gt; &lt;fct&gt;    &lt;fct&gt;  &lt;int&gt;     &lt;int&gt; &lt;fct&gt;   &lt;fct&gt; &lt;fct&gt;         &lt;fct&gt;         &lt;fct&gt;           &lt;int&gt;   &lt;dbl&gt;
##  1 51624 2009_10  male      34       409 White   &lt;NA&gt;  High School   Married       25000-34~       30000    1.36
##  2 51625 2009_10  male       4        49 Other   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          20000-24~       22500    1.07
##  3 51626 2009_10  male      16       202 Black   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          45000-54~       50000    2.27
##  4 51627 2009_10  male      10       131 Black   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          20000-24~       22500    0.81
##  5 51628 2009_10  female    60       722 Black   &lt;NA&gt;  High School   Widowed       10000-14~       12500    0.69
##  6 51629 2009_10  male      26       313 Mexican &lt;NA&gt;  9 - 11th Gra~ Married       25000-34~       30000    1.01
##  7 51630 2009_10  female    49       596 White   &lt;NA&gt;  Some College  LivePartner   35000-44~       40000    1.91
##  8 51631 2009_10  female     1        12 White   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          35000-44~       40000    1.36
##  9 51632 2009_10  male      10       124 Hispan~ &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          65000-74~       70000    2.68
## 10 51633 2009_10  male      80        NA White   &lt;NA&gt;  Some College  Married       15000-19~       17500    1.27
## # ... with 20,283 more rows, and 66 more variables: HomeRooms &lt;int&gt;, HomeOwn &lt;fct&gt;, Work &lt;fct&gt;, Weight &lt;dbl&gt;,
## #   Length &lt;dbl&gt;, HeadCirc &lt;dbl&gt;, Height &lt;dbl&gt;, BMI &lt;dbl&gt;, BMICatUnder20yrs &lt;fct&gt;, BMI_WHO &lt;fct&gt;, Pulse &lt;int&gt;,
## #   BPSysAve &lt;int&gt;, BPDiaAve &lt;int&gt;, BPSys1 &lt;int&gt;, BPDia1 &lt;int&gt;, BPSys2 &lt;int&gt;, BPDia2 &lt;int&gt;, BPSys3 &lt;int&gt;,
## #   BPDia3 &lt;int&gt;, Testosterone &lt;dbl&gt;, DirectChol &lt;dbl&gt;, TotChol &lt;dbl&gt;, UrineVol1 &lt;int&gt;, UrineFlow1 &lt;dbl&gt;,
## #   UrineVol2 &lt;int&gt;, UrineFlow2 &lt;dbl&gt;, Diabetes &lt;fct&gt;, DiabetesAge &lt;int&gt;, HealthGen &lt;fct&gt;,
## #   DaysPhysHlthBad &lt;int&gt;, DaysMentHlthBad &lt;int&gt;, LittleInterest &lt;fct&gt;, Depressed &lt;fct&gt;, nPregnancies &lt;int&gt;,
## #   nBabies &lt;int&gt;, Age1stBaby &lt;int&gt;, SleepHrsNight &lt;int&gt;, SleepTrouble &lt;fct&gt;, PhysActive &lt;fct&gt;,
## #   PhysActiveDays &lt;int&gt;, TVHrsDay &lt;fct&gt;, CompHrsDay &lt;fct&gt;, TVHrsDayChild &lt;int&gt;, CompHrsDayChild &lt;int&gt;,
## #   Alcohol12PlusYr &lt;fct&gt;, AlcoholDay &lt;int&gt;, AlcoholYear &lt;int&gt;, SmokeNow &lt;fct&gt;, Smoke100 &lt;fct&gt;, SmokeAge &lt;int&gt;,
## #   Marijuana &lt;fct&gt;, AgeFirstMarij &lt;int&gt;, RegularMarij &lt;fct&gt;, AgeRegMarij &lt;int&gt;, HardDrugs &lt;fct&gt;,
## #   SexEver &lt;fct&gt;, SexAge &lt;int&gt;, SexNumPartnLife &lt;int&gt;, SexNumPartYear &lt;int&gt;, SameSex &lt;fct&gt;,
## #   SexOrientation &lt;fct&gt;, WTINT2YR &lt;dbl&gt;, WTMEC2YR &lt;dbl&gt;, SDMVPSU &lt;int&gt;, SDMVSTRA &lt;int&gt;, PregnantNow &lt;fct&gt;
```
]

---
count: false
 

.panel1-separate-exercise-2-auto[

```r
NHANES::NHANESraw %&gt;%
* select(starts_with("HHI"))
```
]
 
.panel2-separate-exercise-2-auto[

```
## # A tibble: 20,293 x 2
##    HHIncome    HHIncomeMid
##    &lt;fct&gt;             &lt;int&gt;
##  1 25000-34999       30000
##  2 20000-24999       22500
##  3 45000-54999       50000
##  4 20000-24999       22500
##  5 10000-14999       12500
##  6 25000-34999       30000
##  7 35000-44999       40000
##  8 35000-44999       40000
##  9 65000-74999       70000
## 10 15000-19999       17500
## # ... with 20,283 more rows
```
]

---
count: false
 

.panel1-separate-exercise-2-auto[

```r
NHANES::NHANESraw %&gt;%
  select(starts_with("HHI")) %&gt;%
* separate(col = HHIncome,
*          into = c("lower_HHI", "upper_HHI"),
*          sep = "-")
```
]
 
.panel2-separate-exercise-2-auto[

```
## Warning: Expected 2 pieces. Missing pieces filled with `NA` in 2892 rows [33, 39, 41, 94, 96, 99, 111, 112, 121,
## 122, 135, 142, 143, 148, 157, 158, 170, 173, 174, 178, ...].
## # A tibble: 20,293 x 3
##    lower_HHI upper_HHI HHIncomeMid
##    &lt;chr&gt;     &lt;chr&gt;           &lt;int&gt;
##  1 25000     34999           30000
##  2 20000     24999           22500
##  3 45000     54999           50000
##  4 20000     24999           22500
##  5 10000     14999           12500
##  6 25000     34999           30000
##  7 35000     44999           40000
##  8 35000     44999           40000
##  9 65000     74999           70000
## 10 15000     19999           17500
## # ... with 20,283 more rows
```
]

&lt;style&gt;
.panel1-separate-exercise-2-auto {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-separate-exercise-2-auto {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-separate-exercise-2-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;




---
name: your-turn
background-color: var(--my-red)
class: inverse

.left-column[
## Your turn&lt;br&gt;&lt;svg viewBox="0 0 576 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;br&gt;
]

.right-column[
### Day 1 Case Study
----
- What percent of those studied have Excellent health? (don't forget about `n()`)
- What percent of those with Diabetes have Excellent health? 
- Attempt to recreate the following table:
(Self Rated Health = `HealthGen`)


```
## # A tibble: 5 x 3
##   Self_Rated_Health Diabetes_No Diabetes_Yes
##   &lt;fct&gt;                   &lt;dbl&gt;        &lt;dbl&gt;
## 1 Excellent               0.965       0.0352
## 2 Vgood                   0.947       0.0535
## 3 Good                    0.884       0.116 
## 4 Fair                    0.763       0.237 
## 5 Poor                    0.616       0.384
```

]

<div class="countdown blink-colon noupdate-15" id="timer_60ad91bd" style="bottom:0;left:0;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">04</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
---
count: false
 

.panel1-challenge-1-auto[

```r
*NHANESraw
```
]
 
.panel2-challenge-1-auto[

```
## # A tibble: 20,293 x 78
##       ID SurveyYr Gender   Age AgeMonths Race1   Race3 Education     MaritalStatus HHIncome  HHIncomeMid Poverty
##    &lt;int&gt; &lt;fct&gt;    &lt;fct&gt;  &lt;int&gt;     &lt;int&gt; &lt;fct&gt;   &lt;fct&gt; &lt;fct&gt;         &lt;fct&gt;         &lt;fct&gt;           &lt;int&gt;   &lt;dbl&gt;
##  1 51624 2009_10  male      34       409 White   &lt;NA&gt;  High School   Married       25000-34~       30000    1.36
##  2 51625 2009_10  male       4        49 Other   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          20000-24~       22500    1.07
##  3 51626 2009_10  male      16       202 Black   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          45000-54~       50000    2.27
##  4 51627 2009_10  male      10       131 Black   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          20000-24~       22500    0.81
##  5 51628 2009_10  female    60       722 Black   &lt;NA&gt;  High School   Widowed       10000-14~       12500    0.69
##  6 51629 2009_10  male      26       313 Mexican &lt;NA&gt;  9 - 11th Gra~ Married       25000-34~       30000    1.01
##  7 51630 2009_10  female    49       596 White   &lt;NA&gt;  Some College  LivePartner   35000-44~       40000    1.91
##  8 51631 2009_10  female     1        12 White   &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          35000-44~       40000    1.36
##  9 51632 2009_10  male      10       124 Hispan~ &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;          65000-74~       70000    2.68
## 10 51633 2009_10  male      80        NA White   &lt;NA&gt;  Some College  Married       15000-19~       17500    1.27
## # ... with 20,283 more rows, and 66 more variables: HomeRooms &lt;int&gt;, HomeOwn &lt;fct&gt;, Work &lt;fct&gt;, Weight &lt;dbl&gt;,
## #   Length &lt;dbl&gt;, HeadCirc &lt;dbl&gt;, Height &lt;dbl&gt;, BMI &lt;dbl&gt;, BMICatUnder20yrs &lt;fct&gt;, BMI_WHO &lt;fct&gt;, Pulse &lt;int&gt;,
## #   BPSysAve &lt;int&gt;, BPDiaAve &lt;int&gt;, BPSys1 &lt;int&gt;, BPDia1 &lt;int&gt;, BPSys2 &lt;int&gt;, BPDia2 &lt;int&gt;, BPSys3 &lt;int&gt;,
## #   BPDia3 &lt;int&gt;, Testosterone &lt;dbl&gt;, DirectChol &lt;dbl&gt;, TotChol &lt;dbl&gt;, UrineVol1 &lt;int&gt;, UrineFlow1 &lt;dbl&gt;,
## #   UrineVol2 &lt;int&gt;, UrineFlow2 &lt;dbl&gt;, Diabetes &lt;fct&gt;, DiabetesAge &lt;int&gt;, HealthGen &lt;fct&gt;,
## #   DaysPhysHlthBad &lt;int&gt;, DaysMentHlthBad &lt;int&gt;, LittleInterest &lt;fct&gt;, Depressed &lt;fct&gt;, nPregnancies &lt;int&gt;,
## #   nBabies &lt;int&gt;, Age1stBaby &lt;int&gt;, SleepHrsNight &lt;int&gt;, SleepTrouble &lt;fct&gt;, PhysActive &lt;fct&gt;,
## #   PhysActiveDays &lt;int&gt;, TVHrsDay &lt;fct&gt;, CompHrsDay &lt;fct&gt;, TVHrsDayChild &lt;int&gt;, CompHrsDayChild &lt;int&gt;,
## #   Alcohol12PlusYr &lt;fct&gt;, AlcoholDay &lt;int&gt;, AlcoholYear &lt;int&gt;, SmokeNow &lt;fct&gt;, Smoke100 &lt;fct&gt;, SmokeAge &lt;int&gt;,
## #   Marijuana &lt;fct&gt;, AgeFirstMarij &lt;int&gt;, RegularMarij &lt;fct&gt;, AgeRegMarij &lt;int&gt;, HardDrugs &lt;fct&gt;,
## #   SexEver &lt;fct&gt;, SexAge &lt;int&gt;, SexNumPartnLife &lt;int&gt;, SexNumPartYear &lt;int&gt;, SameSex &lt;fct&gt;,
## #   SexOrientation &lt;fct&gt;, WTINT2YR &lt;dbl&gt;, WTMEC2YR &lt;dbl&gt;, SDMVPSU &lt;int&gt;, SDMVSTRA &lt;int&gt;, PregnantNow &lt;fct&gt;
```
]

---
count: false
 

.panel1-challenge-1-auto[

```r
NHANESraw %&gt;%
* count(HealthGen, Diabetes)
```
]
 
.panel2-challenge-1-auto[

```
## # A tibble: 18 x 3
##    HealthGen Diabetes     n
##    &lt;fct&gt;     &lt;fct&gt;    &lt;int&gt;
##  1 Excellent No        1262
##  2 Excellent Yes         46
##  3 Excellent &lt;NA&gt;         1
##  4 Vgood     No        3274
##  5 Vgood     Yes        185
##  6 Vgood     &lt;NA&gt;         2
##  7 Good      No        4384
##  8 Good      Yes        574
##  9 Good      &lt;NA&gt;         1
## 10 Fair      No        1743
## 11 Fair      Yes        540
## 12 Fair      &lt;NA&gt;         1
## 13 Poor      No         268
## 14 Poor      Yes        167
## 15 Poor      &lt;NA&gt;         1
## 16 &lt;NA&gt;      No        6823
## 17 &lt;NA&gt;      Yes        194
## 18 &lt;NA&gt;      &lt;NA&gt;       827
```
]

---
count: false
 

.panel1-challenge-1-auto[

```r
NHANESraw %&gt;%
  count(HealthGen, Diabetes) %&gt;%
* drop_na()
```
]
 
.panel2-challenge-1-auto[

```
## # A tibble: 10 x 3
##    HealthGen Diabetes     n
##    &lt;fct&gt;     &lt;fct&gt;    &lt;int&gt;
##  1 Excellent No        1262
##  2 Excellent Yes         46
##  3 Vgood     No        3274
##  4 Vgood     Yes        185
##  5 Good      No        4384
##  6 Good      Yes        574
##  7 Fair      No        1743
##  8 Fair      Yes        540
##  9 Poor      No         268
## 10 Poor      Yes        167
```
]

---
count: false
 

.panel1-challenge-1-auto[

```r
NHANESraw %&gt;%
  count(HealthGen, Diabetes) %&gt;%
  drop_na()  %&gt;%
* group_by(HealthGen)
```
]
 
.panel2-challenge-1-auto[

```
## # A tibble: 10 x 3
## # Groups:   HealthGen [5]
##    HealthGen Diabetes     n
##    &lt;fct&gt;     &lt;fct&gt;    &lt;int&gt;
##  1 Excellent No        1262
##  2 Excellent Yes         46
##  3 Vgood     No        3274
##  4 Vgood     Yes        185
##  5 Good      No        4384
##  6 Good      Yes        574
##  7 Fair      No        1743
##  8 Fair      Yes        540
##  9 Poor      No         268
## 10 Poor      Yes        167
```
]

---
count: false
 

.panel1-challenge-1-auto[

```r
NHANESraw %&gt;%
  count(HealthGen, Diabetes) %&gt;%
  drop_na()  %&gt;%
  group_by(HealthGen) %&gt;%
* summarize(percent = n / sum(n),
*           Diabetes = Diabetes)
```
]
 
.panel2-challenge-1-auto[

```
## # A tibble: 10 x 3
## # Groups:   HealthGen [5]
##    HealthGen percent Diabetes
##    &lt;fct&gt;       &lt;dbl&gt; &lt;fct&gt;   
##  1 Excellent  0.965  No      
##  2 Excellent  0.0352 Yes     
##  3 Vgood      0.947  No      
##  4 Vgood      0.0535 Yes     
##  5 Good       0.884  No      
##  6 Good       0.116  Yes     
##  7 Fair       0.763  No      
##  8 Fair       0.237  Yes     
##  9 Poor       0.616  No      
## 10 Poor       0.384  Yes
```
]

---
count: false
 

.panel1-challenge-1-auto[

```r
NHANESraw %&gt;%
  count(HealthGen, Diabetes) %&gt;%
  drop_na()  %&gt;%
  group_by(HealthGen) %&gt;%
  summarize(percent = n / sum(n),
            Diabetes = Diabetes) %&gt;%
* pivot_wider(id_cols = HealthGen,
*             names_from = "Diabetes",
*             values_from = "percent",
*             names_prefix = "Diabetes_"
*              )
```
]
 
.panel2-challenge-1-auto[

```
## # A tibble: 5 x 3
## # Groups:   HealthGen [5]
##   HealthGen Diabetes_No Diabetes_Yes
##   &lt;fct&gt;           &lt;dbl&gt;        &lt;dbl&gt;
## 1 Excellent       0.965       0.0352
## 2 Vgood           0.947       0.0535
## 3 Good            0.884       0.116 
## 4 Fair            0.763       0.237 
## 5 Poor            0.616       0.384
```
]

---
count: false
 

.panel1-challenge-1-auto[

```r
NHANESraw %&gt;%
  count(HealthGen, Diabetes) %&gt;%
  drop_na()  %&gt;%
  group_by(HealthGen) %&gt;%
  summarize(percent = n / sum(n),
            Diabetes = Diabetes) %&gt;%
  pivot_wider(id_cols = HealthGen,
              names_from = "Diabetes",
              values_from = "percent",
              names_prefix = "Diabetes_"
               ) %&gt;%
* rename(Self_Rated_Health = HealthGen)
```
]
 
.panel2-challenge-1-auto[

```
## # A tibble: 5 x 3
## # Groups:   Self_Rated_Health [5]
##   Self_Rated_Health Diabetes_No Diabetes_Yes
##   &lt;fct&gt;                   &lt;dbl&gt;        &lt;dbl&gt;
## 1 Excellent               0.965       0.0352
## 2 Vgood                   0.947       0.0535
## 3 Good                    0.884       0.116 
## 4 Fair                    0.763       0.237 
## 5 Poor                    0.616       0.384
```
]

---
count: false
 

.panel1-challenge-1-auto[

```r
NHANESraw %&gt;%
  count(HealthGen, Diabetes) %&gt;%
  drop_na()  %&gt;%
  group_by(HealthGen) %&gt;%
  summarize(percent = n / sum(n),
            Diabetes = Diabetes) %&gt;%
  pivot_wider(id_cols = HealthGen,
              names_from = "Diabetes",
              values_from = "percent",
              names_prefix = "Diabetes_"
               ) %&gt;%
  rename(Self_Rated_Health = HealthGen) %&gt;%
* ungroup()
```
]
 
.panel2-challenge-1-auto[

```
## # A tibble: 5 x 3
##   Self_Rated_Health Diabetes_No Diabetes_Yes
##   &lt;fct&gt;                   &lt;dbl&gt;        &lt;dbl&gt;
## 1 Excellent               0.965       0.0352
## 2 Vgood                   0.947       0.0535
## 3 Good                    0.884       0.116 
## 4 Fair                    0.763       0.237 
## 5 Poor                    0.616       0.384
```
]

&lt;style&gt;
.panel1-challenge-1-auto {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-challenge-1-auto {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-challenge-1-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;



---

class: left

# Up Next &lt;img src="img/stringr.png" class="title-hex"&gt;&lt;img src="img/purrr.png" class="title-hex"&gt;&lt;img src="img/lubridate.png" class="title-hex"&gt;&lt;img src="img/glue.png" class="title-hex"&gt;&lt;img src="img/forcats.png" class="title-hex"&gt;&lt;img src="img/dplyr.png" class="title-hex"&gt;
----
.pull-left[
### Day 2
- `case_when` &amp; `ifelse`
- factors and `forcats`
- `lubridate`
- `stringr` &amp; regex
- `glue`
]
.pull-right[
### Day 3
- relational data &amp; joins
- `across()`
- `rowwise()`
- `distinct()`
- `purrr()`
]

---

class: goodbye-slide, inverse, middle, left

.pull-left[
&lt;img src="https://kelseygonzalez.github.io/author/kelsey-e.-gonzalez/avatar.png" class = "rounded"/&gt;

# Thank you!

### Here's where you can find me...

.right[
[kelseygonzalez.github.io &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"&gt;&lt;/path&gt;&lt;/svg&gt;](https://kelseygonzalez.github.io/)&lt;br/&gt;
[@KelseyEGonzalez &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"&gt;&lt;/path&gt;&lt;/svg&gt;](https://twitter.com/kelseyegonzalez)&lt;br/&gt;
[@KelseyGonzalez &lt;svg viewBox="0 0 496 512" style="position:relative;display:inline-block;top:.1em;height:1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"&gt;&lt;/path&gt;&lt;/svg&gt;](https://github.com/KelseyGonzalez)
]]

---
class: inverse, middle, left

## Acknowledgements:
[Slide template](https://spcanelon.github.io/xaringan-basics-and-beyond/)  
[Lecture structure](https://american-stat-412612.netlify.app/)  
[xaringan](https://github.com/yihui/xaringan)  
[xaringanExtra](https://pkg.garrickadenbuie.com/xaringanExtra/#/)  
[flipbookr](https://github.com/EvaMaeRey/flipbookr)  

    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="macros.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "googlecode",
"highlightLines": true,
"highlightLanguage": "r",
"countIncrementalSlides": false,
"ratio": "16:9",
"slideNumberFormat": "<div class=\"progress-bar-container\">\n  <div class=\"progress-bar\" style=\"width: calc(%current% / %total% * 100%);\">\n  </div>\n</div>"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
